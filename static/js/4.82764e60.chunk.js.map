{"version":3,"sources":["pages/Facility/Slider.jsx","pages/Facility/FacilityItem.jsx","pages/Facility/MaterialItem.jsx","pages/Facility/Facility.jsx","pages/Facility/index.js","components/ContextProvider.jsx","components/Image.jsx","components/Checkbox.jsx","components/CheckBtns.jsx","components/Select.jsx","components/Dialog.jsx","components/HalidomItem.jsx","components/IconBtns.jsx","components/HalidomSetting.jsx","components/Header.jsx","components/Input.jsx","components/RadioBtns.jsx","components/index.js"],"names":["asc","a","b","findClosest","values","currentValue","reduce","acc","value","index","distance","Math","abs","getPos","event","touchId","undefined","current","changedTouches","i","length","touch","identifier","clientX","trimValue","min","max","pctToValue","pct","round","valueToPos","width","setValue","v","ret","Slider","defaultValue","valueProp","onChange","sliderRef","useRef","useState","left","dimension","setDimension","handleWidth","useEventCallback","getBoundingClientRect","useEffect","window","addEventListener","removeEventListener","isControlled","React","valueState","setValueState","valueDerived","range","Array","isArray","sort","map","prevIndex","getNewValue","useCallback","pos","move","newValue","indexOf","handleTouchMove","handleTouchEnd","document","body","handleMouseEnter","buttons","relatedTarget","handleTouchStart","preventDefault","slider","handleMouseDown","trackStyle","ref","className","onMouseDown","style","key","role","tabIndex","aria-valuemax","aria-valuemin","aria-valuenow","defaultProps","memo","FacilityItem","item","setFacility","useMemo","getLimit","type","field","image","id","onClick","prev","filter","_","f","columnIndex","rowIndex","data","dict","arr","qty","btns","getKey","keyDict","sumArray","sum","start","end","open","setOpen","loadState","facility","e","currentTarget","name","removeState","backup","saveState","onCreate","needs","forEach","Object","entries","material","itemArr","keys","refs","col3","height","itemData","columnCount","columnWidth","rowCount","rowHeight","MaterialItem","Facility","Context","createContext","getWidth","innerWidth","actionCreators","loadHalidom","connect","children","history","match","params","path","setWidth","handleResize","pattern","test","lang","preferred","exec","navigator","language","setLang","replace","scrollTo","Provider","Image","size","src","process","alt","ICONS","disable","ClearRounded","setting","SettingsApplicationsRounded","Checkbox","checked","disabled","icon","label","title","setChecked","useContext","newId","uuid","target","htmlFor","translate","CheckBtns","handleChange","CustomSelect","options","selectOptions","opt","text","MenuItem","FormControl","variant","InputLabel","Select","input","FilledInput","handleClose","setState","handleCreate","opt1","HALIDOM_TYPES","opt2","Dialog","maxWidth","classes","paperScrollPaper","DialogContent","root","DialogActions","Button","color","selectFlag","updateHalidom","halidom","halidomFlag","itemKey","halidomKey","cols","keyArray","level","lv","setLV","timerId","setTimer","newLV","clearTimeout","Number","setTimeout","add","Add","del","DeleteForeverOutlined","refresh","RefreshOutlined","save","SaveOutlined","IconBtns","btn","GitHubIcon","href","rel","NavDrawer","onClose","Drawer","paper","to","desktop","parseInt","md","MenuOutlined","HomeOutlined","VerticalAlignBottom","VerticalAlignTop","Input","adornment","l","TextField","InputProps","endAdornment","InputAdornment","position","build","Person","team","People","RadioBtns","prevProps","nextProps"],"mappings":"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","file":"static/js/4.82764e60.chunk.js","sourcesContent":["/* eslint-disable no-console */\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useEventCallback } from 'utils';\n\nconst asc = (a, b) => a - b;\n\nfunction findClosest(values, currentValue) {\n  const { index: closestIndex } = values.reduce((acc, value, index) => {\n    const distance = Math.abs(currentValue - value);\n\n    if (acc === null || distance < acc.distance || distance === acc.distance) {\n      return {\n        distance,\n        index,\n      };\n    }\n\n    return acc;\n  }, null);\n  return closestIndex;\n}\n\nconst getPos = (event, touchId) => {\n  if (touchId.current !== undefined && event.changedTouches) {\n    for (let i = 0; i < event.changedTouches.length; i += 1) {\n      const touch = event.changedTouches[i];\n      if (touch.identifier === touchId.current) {\n        return touch.clientX;\n      }\n    }\n\n    return null;\n  }\n\n  return event.clientX;\n};\n\nconst trimValue = (value, min, max) => {\n  if (value < min) return min;\n  if (value > max) return max;\n\n  return value;\n};\n\nconst pctToValue = (pct, min, max) => {\n  let value = (max - min) * pct + min;\n  value = trimValue(value, min, max);\n  return Math.round(value);\n};\n\nconst valueToPos = (value, min, max, width) => {\n  return ((value - min) * width) / (max - min);\n};\n\nconst setValue = ({ i, v, values }) => {\n  const ret = [...values];\n  ret[i] = v;\n  return ret;\n};\n\nconst defaultProps = {\n  defaultValue: null,\n  min: 0,\n};\n\nfunction Slider({ defaultValue, value: valueProp, min, max, onChange }) {\n  const sliderRef = useRef();\n  const [dimension, setDimension] = useState({\n    left: 0,\n    width: 0,\n  });\n\n  const handleWidth = useEventCallback(() => {\n    if (sliderRef.current) {\n      const { left, width } = sliderRef.current.getBoundingClientRect();\n      setDimension({ left, width: width - 32 });\n    }\n  });\n\n  useEffect(() => {\n    handleWidth();\n  }, [handleWidth]);\n\n  useEffect(() => {\n    window.addEventListener('resize', handleWidth);\n    return () => window.removeEventListener('resize', handleWidth);\n  }, [handleWidth]);\n\n  const { current: isControlled } = useRef(valueProp != null);\n  const touchId = React.useRef();\n\n  const [valueState, setValueState] = useState(defaultValue || [min, max]);\n\n  const valueDerived = isControlled ? valueProp : valueState;\n  const range = Array.isArray(valueDerived);\n  let values = range ? [...valueDerived].sort(asc) : [valueDerived];\n  values = values.map(v => trimValue(v, min, max));\n\n  const prevIndex = React.useRef();\n\n  const getNewValue = React.useCallback(\n    (pos, move = false) => {\n      const { left, width } = dimension;\n      const pct = (pos - left) / width;\n      const v = pctToValue(pct, min, max);\n      const i = move ? prevIndex.current : findClosest(values, v);\n      const newValue = setValue({ i, v, values }).sort(asc);\n      prevIndex.current = newValue.indexOf(v);\n\n      return newValue;\n    },\n    [values, min, max, dimension]\n  );\n\n  const handleTouchMove = useEventCallback(event => {\n    const pos = getPos(event, touchId);\n\n    if (!pos) return;\n    const newValue = getNewValue(pos, true);\n\n    if (!isControlled) {\n      setValueState(newValue);\n    }\n\n    if (onChange) {\n      onChange(newValue);\n    }\n  });\n\n  const handleTouchEnd = useEventCallback(event => {\n    const pos = getPos(event, touchId);\n    if (!pos) return;\n\n    touchId.current = undefined;\n    document.body.removeEventListener('mousemove', handleTouchMove);\n    document.body.removeEventListener('mouseup', handleTouchEnd);\n    // eslint-disable-next-line no-use-before-define\n    document.body.removeEventListener('mouseenter', handleMouseEnter);\n    document.body.removeEventListener('touchmove', handleTouchMove);\n    document.body.removeEventListener('touchend', handleTouchEnd);\n  });\n\n  const handleMouseEnter = useEventCallback(event => {\n    // If the slider was being interacted with but the mouse went off the window\n    // and then re-entered while unclicked then end the interaction.\n    if (event.buttons === 0 && event.relatedTarget !== null) {\n      handleTouchEnd(event);\n    }\n  });\n\n  const handleTouchStart = useEventCallback(event => {\n    // Workaround as Safari has partial support for touchAction: 'none'.\n    event.preventDefault();\n    const touch = event.changedTouches[0];\n    if (touch != null) touchId.current = touch.identifier;\n\n    const pos = getPos(event, touchId);\n    const newValue = getNewValue(pos);\n\n    if (!isControlled) {\n      setValueState(newValue);\n    }\n\n    if (onChange) {\n      onChange(newValue);\n    }\n\n    document.body.addEventListener('touchmove', handleTouchMove);\n    document.body.addEventListener('touchend', handleTouchEnd);\n  });\n\n  useEffect(() => {\n    const { current: slider } = sliderRef;\n    slider.addEventListener('touchstart', handleTouchStart);\n\n    return () => {\n      slider.removeEventListener('touchstart', handleTouchStart);\n      document.body.removeEventListener('mousemove', handleTouchMove);\n      document.body.removeEventListener('mouseup', handleTouchEnd);\n      document.body.removeEventListener('mouseenter', handleMouseEnter);\n      document.body.removeEventListener('touchmove', handleTouchMove);\n      document.body.removeEventListener('touchend', handleTouchEnd);\n    };\n  }, [handleMouseEnter, handleTouchEnd, handleTouchMove, handleTouchStart]);\n\n  const handleMouseDown = useEventCallback(event => {\n    event.preventDefault();\n    const pos = getPos(event, touchId);\n    const newValue = getNewValue(pos);\n\n    if (!isControlled) {\n      setValueState(newValue);\n    }\n    if (onChange) {\n      onChange(newValue);\n    }\n\n    document.body.addEventListener('mousemove', handleTouchMove);\n    document.body.addEventListener('mouseenter', handleMouseEnter);\n    document.body.addEventListener('mouseup', handleTouchEnd);\n  });\n\n  const left = valueToPos(range ? values[0] : min, min, max, dimension.width);\n  const width =\n    valueToPos(values[values.length - 1], min, max, dimension.width) - left;\n\n  const trackStyle = { left, width };\n\n  return (\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <div ref={sliderRef} className=\"slider\" onMouseDown={handleMouseDown}>\n      <span className=\"slider-rail\" />\n      <span className=\"slider-track\" style={trackStyle} />\n      {values.map((v, i) => {\n        const style = { left: valueToPos(v, min, max, dimension.width) };\n        return (\n          <div\n            // eslint-disable-next-line react/no-array-index-key\n            key={i}\n            className=\"slider-thumb\"\n            style={style}\n            role=\"slider\"\n            tabIndex=\"0\"\n            aria-valuemax={max}\n            aria-valuemin={min}\n            aria-valuenow={v}\n          >\n            {v}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nSlider.defaultProps = defaultProps;\n\nexport default React.memo(Slider);\n","import React from 'react';\nimport { Image } from 'components';\nimport { getLimit } from 'utils';\nimport Slider from './Slider';\n\nfunction FacilityItem({ index, item, setFacility }) {\n  const max = React.useMemo(() => getLimit(item.type), [item.type]);\n  const removeItem = () => {\n    setFacility(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const onChange = value => {\n    setFacility(prev =>\n      prev.map((f, i) => {\n        return i === index ? { ...f, value } : f;\n      })\n    );\n  };\n\n  return (\n    <div className=\"facility-item\">\n      <Image field=\"facility\" image={item.id} onClick={removeItem} />\n      <Slider max={max} value={item.value} onChange={onChange} />\n    </div>\n  );\n}\n\nexport default FacilityItem;\n","import React from 'react';\nimport { Image } from 'components';\n\nfunction MaterialItem({ columnIndex, rowIndex, style, data: { dict, arr } }) {\n  const key = arr[2 * rowIndex + columnIndex];\n  const qty = dict[key];\n  return (\n    <>\n      {qty && (\n        <div style={style} className=\"material-item\">\n          <Image field=\"material\" image={key} />\n          <div>{qty}</div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default React.memo(MaterialItem);\n","import React, { useState } from 'react';\nimport { FixedSizeGrid } from 'react-window';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { IconBtns, Dialog } from 'components';\nimport {\n  refs,\n  getLimit,\n  loadState,\n  removeState,\n  saveState,\n  useEventCallback,\n} from 'utils';\nimport { material, keyDict } from 'data';\nimport FacilityItem from './FacilityItem';\nimport MaterialItem from './MaterialItem';\n\nconst btns = ['del', 'refresh', 'save', 'add'];\n\nconst getKey = (type, field) => {\n  switch (type) {\n    case 'rupies':\n    case 'event':\n    case 'item':\n    case 'coin1':\n    case 'coin2':\n    case 'coin3':\n    case 'talonstone':\n      return keyDict[type];\n    default:\n      return keyDict[type][field];\n  }\n};\n\nconst sumArray = (arr, value) => {\n  let sum = 0;\n  const [start, end] = value;\n  for (let i = start; i < end; i += 1) {\n    sum += arr[i];\n  }\n\n  return sum;\n};\n\nfunction Facility() {\n  const [open, setOpen] = useState(false);\n  const [facility, setFacility] = useState(loadState('facility') || []);\n\n  const onClick = useEventCallback(e => {\n    switch (e.currentTarget.name) {\n      case 'add':\n        setOpen(true);\n        break;\n      case 'del': {\n        setFacility([]);\n        removeState('facility');\n        break;\n      }\n      case 'refresh': {\n        const backup = loadState('facility');\n        if (backup) {\n          setFacility(backup);\n        }\n        break;\n      }\n      case 'save':\n        saveState('facility', facility);\n        break;\n      default:\n        break;\n    }\n  });\n\n  const onCreate = useEventCallback(({ type, field }) => {\n    const id = type === 'event' ? 'event' : keyDict[type][field];\n    const max = getLimit(type);\n    setFacility(prev => [...prev, { id, type, field, value: [0, max] }]);\n  });\n\n  const needs = React.useMemo(() => {\n    const dict = {};\n    facility.forEach(f => {\n      if (f.value[0] !== f.value[1]) {\n        Object.entries(material[f.type]).forEach(([item, itemArr]) => {\n          const qty = sumArray(itemArr, f.value);\n          if (qty !== 0) {\n            const key = getKey(item, f.field);\n            dict[key] = (dict[key] || 0) + qty;\n          }\n        });\n      }\n    });\n    return { dict, arr: Object.keys(dict) };\n  }, [facility]);\n\n  return (\n    <main id=\"facility\">\n      <div>\n        <IconBtns btns={btns} onClick={onClick} />\n        <div>\n          {facility.map((f, i) => {\n            return (\n              <FacilityItem\n                // eslint-disable-next-line react/no-array-index-key\n                key={i}\n                index={i}\n                item={f}\n                setFacility={setFacility}\n              />\n            );\n          })}\n        </div>\n        <Dialog open={open} setOpen={setOpen} onCreate={onCreate} />\n      </div>\n\n      <div ref={refs.col3}>\n        <AutoSizer>\n          {({ height, width }) => (\n            <FixedSizeGrid\n              width={width}\n              height={height}\n              itemData={needs}\n              columnCount={2}\n              columnWidth={width / 2 - 8}\n              rowCount={needs.arr.length}\n              rowHeight={64}\n            >\n              {MaterialItem}\n            </FixedSizeGrid>\n          )}\n        </AutoSizer>\n      </div>\n    </main>\n  );\n}\n\nexport default React.memo(Facility);\n","import Facility from './Facility';\n\nexport default Facility;\n","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { loadHalidom } from 'actions';\n\nexport const Context = React.createContext();\n\nfunction getWidth() {\n  return window.innerWidth;\n}\n\nconst ContextProvider = ({\n  children,\n  history,\n  match: { params, path },\n  // eslint-disable-next-line no-shadow\n  loadHalidom,\n}) => {\n  const [width, setWidth] = useState(getWidth());\n\n  useEffect(() => {\n    const handleResize = () => {\n      setWidth(getWidth());\n    };\n\n    loadHalidom();\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [loadHalidom]);\n\n  const [lang, setLang] = useState(() => {\n    const pattern = /en|ja|zh/;\n    if (pattern.test(params.lang)) {\n      return params.lang;\n    }\n\n    const preferred = pattern.exec(navigator.language);\n    return preferred ? preferred[0] : 'en';\n  });\n\n  useEffect(() => {\n    if (params.lang !== lang) {\n      history.replace(path.replace(':lang?', lang));\n    }\n  }, [lang, history, params.lang, path]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [path]);\n\n  const value = React.useMemo(() => ({ lang, setLang, width }), [lang, width]);\n\n  return <Context.Provider value={value}>{children}</Context.Provider>;\n};\n\nconst actionCreators = { loadHalidom };\n\nexport default connect(\n  null,\n  actionCreators\n)(ContextProvider);\n","import React from 'react';\n\nconst defaultProps = {\n  id: null,\n  size: 'md',\n  tabIndex: '0',\n};\n\nfunction Image({ field, id, image, size, tabIndex, onClick }) {\n  const src = `${process.env.PUBLIC_URL}/images/${field}/${image}.png`;\n\n  if (onClick) {\n    return (\n      <input\n        id={id}\n        alt={image}\n        className={size}\n        src={src}\n        type=\"image\"\n        tabIndex={tabIndex}\n        onClick={onClick}\n      />\n    );\n  }\n\n  return <img id={id} className={size} alt={image} src={src} />;\n}\n\nImage.defaultProps = defaultProps;\n\nexport default React.memo(Image);\n","/* eslint-disable no-console */\nimport React from 'react';\nimport uuid from 'uuid/v4';\nimport { ClearRounded, SettingsApplicationsRounded } from '@material-ui/icons';\nimport { translate } from 'utils';\nimport { Context } from './ContextProvider';\nimport Image from './Image';\n\nconst defaultProps = {\n  checked: false,\n  disabled: false,\n  icon: true,\n  title: null,\n};\n\nconst ICONS = {\n  disable: <ClearRounded />,\n  setting: <SettingsApplicationsRounded />,\n};\n\nfunction Checkbox({\n  checked,\n  disabled,\n  icon,\n  id,\n  name,\n  label,\n  title,\n  onChange,\n  setChecked,\n}) {\n  const { lang } = React.useContext(Context);\n  const newId = React.useMemo(() => id || uuid(), [id]);\n\n  const handleChange = e => {\n    if (setChecked) {\n      setChecked(e.target.checked);\n    } else if (onChange) {\n      onChange(e);\n    }\n  };\n\n  return (\n    <>\n      <input\n        className=\"check-box\"\n        type=\"checkbox\"\n        id={newId}\n        checked={checked}\n        disabled={disabled}\n        name={name}\n        value={label}\n        onChange={handleChange}\n      />\n      <label htmlFor={newId} title={translate(title || label, lang)}>\n        {icon ? (\n          <Image size=\"xs\" field=\"icon\" image={`${name}_${label}`} />\n        ) : (\n          ICONS[label] || label\n        )}\n      </label>\n    </>\n  );\n}\n\nCheckbox.defaultProps = defaultProps;\n\nexport default React.memo(Checkbox);\n","import React from 'react';\nimport Checkbox from './Checkbox';\n\nconst defaultProps = {\n  btns: [],\n  disabled: false,\n};\n\nfunction CheckBtns({ btns, disabled, name, onChange, setChecked }) {\n  const handleChange = e => {\n    if (setChecked) {\n      const { checked, value } = e.target;\n      setChecked(prev => {\n        return prev.map(item =>\n          item.label === value ? { ...item, checked } : item\n        );\n      });\n    } else if (onChange) {\n      onChange(e);\n    }\n  };\n\n  return (\n    <div>\n      {btns.map(({ label, checked }) => {\n        const id = `check_${label}`;\n        return (\n          <Checkbox\n            key={id}\n            checked={checked}\n            disabled={disabled}\n            id={id}\n            name={name}\n            label={label}\n            onChange={handleChange}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nCheckBtns.defaultProps = defaultProps;\n\nexport default React.memo(CheckBtns);\n","import React from 'react';\nimport {\n  FilledInput,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  Select,\n} from '@material-ui/core';\nimport { translate } from 'utils';\nimport { Context } from './ContextProvider';\n\nconst defaultProps = {\n  disabled: false,\n  label: '',\n  options: null,\n  value: '',\n};\n\nfunction CustomSelect({ disabled, label, options, value, onChange }) {\n  const { lang } = React.useContext(Context);\n\n  const selectOptions = React.useMemo(() => {\n    if (!Array.isArray(options)) return null;\n\n    return options.map(opt => {\n      let text = opt;\n      if (opt === '') {\n        text = 'ALL';\n      } else if (!/^\\d+&/.test(opt)) {\n        text = translate(opt, lang);\n      }\n\n      return (\n        <MenuItem key={opt} value={opt}>\n          {text}\n        </MenuItem>\n      );\n    });\n  }, [options, lang]);\n\n  return (\n    <FormControl variant=\"filled\" disabled={disabled || !options}>\n      <InputLabel>{translate(label, lang)}</InputLabel>\n      <Select\n        value={value}\n        onChange={onChange}\n        input={<FilledInput name={label} />}\n      >\n        {selectOptions}\n      </Select>\n    </FormControl>\n  );\n}\n\nCustomSelect.defaultProps = defaultProps;\n\nexport default React.memo(CustomSelect);\n","import React from 'react';\nimport {\n  Button,\n  Dialog,\n  DialogContent,\n  DialogActions,\n} from '@material-ui/core';\nimport { keyDict, HALIDOM_TYPES } from 'data';\nimport { translate, useEventCallback } from 'utils';\nimport { Context } from './ContextProvider';\nimport Select from './Select';\n\nfunction CustomDialog({ open, setOpen, onCreate }) {\n  const { lang } = React.useContext(Context);\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const [{ type, field }, setState] = React.useState({\n    type: 'dojo',\n    field: '',\n  });\n\n  const onChange = useEventCallback(e => {\n    const { name, value } = e.target;\n\n    let params;\n    if (name === 'type') {\n      if (value === type) return;\n\n      if (\n        type === 'dojo' ||\n        type === 'event' ||\n        value === 'dojo' ||\n        value === 'event'\n      ) {\n        params = { type: value, field: '' };\n      } else {\n        params = { type: value };\n      }\n    } else {\n      if (value === field) return;\n\n      params = { field: value };\n    }\n    setState(prev => ({ ...prev, ...params }));\n  });\n\n  const handleCreate = useEventCallback(() => {\n    if (type !== 'event' && field === '') return;\n    if (onCreate) {\n      onCreate({ type, field });\n    }\n    handleClose();\n  });\n\n  const label = type === 'dojo' ? 'weapon' : 'element';\n  const disabled = type === 'event';\n  const opt1 = [...HALIDOM_TYPES, 'dracolith'];\n  const opt2 = Object.keys(keyDict[type]);\n\n  return (\n    <Dialog\n      open={open}\n      maxWidth=\"xs\"\n      classes={{ paperScrollPaper: 'dialog-flex' }}\n    >\n      <DialogContent classes={{ root: 'col-2' }}>\n        <Select label=\"type\" value={type} options={opt1} onChange={onChange} />\n\n        <Select\n          disabled={disabled}\n          label={label}\n          value={field}\n          options={opt2}\n          onChange={onChange}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"primary\" onClick={handleClose}>\n          {translate('cancel', lang)}\n        </Button>\n        <Button color=\"primary\" onClick={handleCreate}>\n          {translate('create', lang)}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default React.memo(CustomDialog);\n","/* eslint-disable no-shadow */\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { selectFlag, updateHalidom } from 'actions';\nimport { getLimit, translate } from 'utils';\nimport { Context } from './ContextProvider';\nimport Image from './Image';\n\nfunction HalidomItem({\n  style,\n  halidomFlag,\n  halidomKey,\n  id,\n  level,\n  type,\n  selectFlag,\n  updateHalidom,\n}) {\n  const { lang } = React.useContext(Context);\n  const [lv, setLV] = useState(level);\n\n  React.useEffect(() => {\n    if (!halidomFlag) return;\n    setLV(level);\n    selectFlag(false);\n  }, [halidomFlag, level, selectFlag]);\n\n  const [timerId, setTimer] = useState(null);\n  const { max, name } = React.useMemo(\n    () => ({\n      max: getLimit(type),\n      name: translate(id, lang, 'halidom'),\n    }),\n    [id, lang, type]\n  );\n\n  if (!halidomKey) return null;\n\n  const onChange = e => {\n    clearTimeout(timerId);\n    const { value } = e.target;\n    const newLV = Number(value);\n\n    const newId = setTimeout(() => {\n      updateHalidom({ halidomKey, level: newLV });\n    }, 500);\n\n    setLV(newLV);\n    setTimer(newId);\n  };\n\n  const decrement = () => {\n    const newLV = lv - 1;\n    if (newLV >= 0) {\n      setLV(newLV);\n      updateHalidom({ halidomKey, level: newLV });\n    }\n  };\n\n  const increment = () => {\n    const newLV = lv + 1;\n    if (newLV <= max) {\n      setLV(newLV);\n      updateHalidom({ halidomKey, level: newLV });\n    }\n  };\n\n  return (\n    <div style={style} className=\"halidom-item\">\n      <Image size=\"lg\" field=\"facility\" image={id} />\n      <span className=\"name\">{name}</span>\n      <span>{lv}</span>\n      <Image size=\"sm\" field=\"icon\" image=\"minus\" onClick={decrement} />\n      <input type=\"range\" min=\"0\" max={max} value={lv} onChange={onChange} />\n      <Image size=\"sm\" field=\"icon\" image=\"plus\" onClick={increment} />\n    </div>\n  );\n}\n\nconst mapStateToProps = (\n  { halidom, halidomFlag },\n  { itemKey, rowIndex, columnIndex, data }\n) => {\n  let halidomKey = itemKey;\n  if (halidomKey == null) {\n    const { cols, keyArray } = data;\n    halidomKey = keyArray[cols * rowIndex + columnIndex];\n  }\n  const { id, level, type } = halidom[halidomKey] || {};\n  return { halidomFlag, halidomKey, id, level, type };\n};\n\nconst actionCreators = { selectFlag, updateHalidom };\n\nexport default connect(\n  mapStateToProps,\n  actionCreators\n)(HalidomItem);\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport {\n  Add,\n  DeleteForeverOutlined,\n  RefreshOutlined,\n  SaveOutlined,\n} from '@material-ui/icons';\n\nconst ICONS = {\n  add: <Add />,\n  del: <DeleteForeverOutlined />,\n  refresh: <RefreshOutlined />,\n  save: <SaveOutlined />,\n};\n\nconst defaultProps = {\n  btns: [],\n};\n\nfunction IconBtns({ btns, onClick }) {\n  return (\n    <div className=\"icon-btns\">\n      {btns.map(btn => {\n        return (\n          <Button variant=\"outlined\" key={btn} name={btn} onClick={onClick}>\n            {ICONS[btn] || btn}\n          </Button>\n        );\n      })}\n    </div>\n  );\n}\n\nIconBtns.defaultProps = defaultProps;\n\nexport default React.memo(IconBtns);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { loadHalidom } from 'actions';\nimport { removeState, saveState, useEventCallback } from 'utils';\nimport IconBtns from './IconBtns';\n\nconst btns = ['del', 'refresh', 'save'];\n\n// eslint-disable-next-line no-shadow\nfunction HalidomSetting({ halidom, loadHalidom }) {\n  const onClick = useEventCallback(e => {\n    switch (e.currentTarget.name) {\n      case 'del':\n        removeState('halidom');\n        break;\n      case 'refresh':\n        loadHalidom();\n        break;\n      case 'save':\n        saveState('halidom', halidom);\n        break;\n      default:\n        break;\n    }\n  });\n  return <IconBtns btns={btns} onClick={onClick} />;\n}\n\nconst mapStateToProps = ({ halidom }) => {\n  return { halidom };\n};\n\nconst actionCreators = { loadHalidom };\n\nexport default connect(\n  mapStateToProps,\n  actionCreators\n)(HalidomSetting);\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { memo, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Drawer } from '@material-ui/core';\nimport {\n  MenuOutlined,\n  HomeOutlined,\n  VerticalAlignTop,\n  VerticalAlignBottom,\n} from '@material-ui/icons';\nimport { refs, scrollTo, translate } from 'utils';\nimport { md } from 'styles/styles.scss';\nimport { Context } from './ContextProvider';\n\n/*\n<div>\n  <img\n    alt=\"donation\"\n    src={`${process.env.PUBLIC_URL}/images/icon/donation.svg`}\n    height=\"20\"\n  />\n  <Link to={`/donation/${lang}`} title=\"Donation\">\n    <span />\n  </Link>\n</div>\n*/\n\nconst GitHubIcon = memo(() => {\n  return (\n    <>\n      <img\n        alt=\"github\"\n        src={`${process.env.PUBLIC_URL}/images/icon/github.png`}\n      />\n\n      <a\n        href=\"https://github.com/junlico/dragalia-lost\"\n        title=\"GitHub Repository\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        <span />\n      </a>\n    </>\n  );\n});\n\nconst NavDrawer = memo(({ lang, open, setOpen }) => {\n  const onClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Drawer classes={{ paper: 'drawer' }} open={open} onClose={onClose}>\n      <ul>\n        <li>\n          <GitHubIcon />\n        </li>\n        <li>\n          <Link to={`/halidom/${lang}`} onClick={onClose}>\n            <span>{translate('halidom', lang)}</span>\n          </Link>\n        </li>\n\n        <li>\n          <Link to={`/facility/${lang}`} onClick={onClose}>\n            <span>{translate('facility', lang)}</span>\n          </Link>\n        </li>\n      </ul>\n    </Drawer>\n  );\n});\n\nfunction Header() {\n  const { lang, width } = React.useContext(Context);\n  const [open, setOpen] = useState(false);\n\n  const desktop = React.useMemo(() => width >= parseInt(md, 10), [width]);\n\n  const onClick = () => {\n    setOpen(true);\n  };\n\n  const scrollDown = () => {\n    scrollTo(refs.col3);\n  };\n\n  const scrollTop = () => {\n    scrollTo(0);\n  };\n\n  return (\n    <header>\n      <div role=\"button\" tabIndex=\"0\" onClick={onClick}>\n        <MenuOutlined />\n      </div>\n\n      <div>\n        <HomeOutlined />\n        <Link to={`/stats/${lang}`} title=\"HOME\">\n          <span />\n        </Link>\n      </div>\n\n      {desktop ? (\n        <div>\n          <GitHubIcon />\n        </div>\n      ) : (\n        <>\n          <div>\n            <VerticalAlignBottom onClick={scrollDown} />\n          </div>\n          <div>\n            <VerticalAlignTop onClick={scrollTop} />\n          </div>\n        </>\n      )}\n\n      <NavDrawer lang={lang} open={open} setOpen={setOpen} />\n    </header>\n  );\n}\n\nexport default memo(Header);\n","import React from 'react';\nimport { TextField, InputAdornment } from '@material-ui/core';\nimport { translate } from 'utils';\nimport { Context } from './ContextProvider';\n\nconst defaultProps = {\n  adornment: false,\n  disabled: false,\n  type: 'int',\n};\n\n/**\n * @param {Object} props\n * @param {string} props.label\n * @param {string|number} props.value\n * @param {Function} props.onChange\n * @param {string} [props.adornment]\n * @param {boolean} [props.disabled]\n * @param {string} [props.type]\n */\nfunction Input({ adornment, disabled, label, value, onChange }) {\n  const { lang } = React.useContext(Context);\n  const l = React.useMemo(() => translate(label, lang), [label, lang]);\n\n  return (\n    <TextField\n      type=\"number\"\n      variant=\"filled\"\n      label={l}\n      value={value}\n      disabled={disabled}\n      onChange={onChange}\n      InputProps={{\n        name: label,\n        endAdornment: adornment && (\n          <InputAdornment position=\"end\">{adornment}</InputAdornment>\n        ),\n      }}\n    />\n  );\n}\n\nInput.defaultProps = defaultProps;\n\nexport default React.memo(Input);\n","import React, { Fragment } from 'react';\nimport { Person, People } from '@material-ui/icons';\n\nconst ICONS = {\n  build: <Person />,\n  team: <People />,\n};\n\nconst defaultProps = {\n  btns: [],\n  name: '',\n};\n\nfunction RadioBtns({ btns, checked, name, onChange }) {\n  const handleChange = e => {\n    onChange(e.target.value);\n  };\n\n  return (\n    <div className=\"radio-btns\">\n      {btns.map(btn => {\n        const id = `radio_${btn}`;\n        return (\n          <Fragment key={id}>\n            <input\n              type=\"radio\"\n              id={id}\n              checked={btn === checked}\n              name={name}\n              value={btn}\n              onChange={handleChange}\n            />\n            <label htmlFor={id}>{ICONS[btn] || btn}</label>\n          </Fragment>\n        );\n      })}\n    </div>\n  );\n}\n\nRadioBtns.defaultProps = defaultProps;\n\nconst areEqual = (prevProps, nextProps) => {\n  return prevProps.checked === nextProps.checked;\n};\n\nexport default React.memo(RadioBtns, areEqual);\n","import ContextProvider, { Context } from './ContextProvider';\nimport Checkbox from './Checkbox';\nimport CheckBtns from './CheckBtns';\nimport Dialog from './Dialog';\nimport HalidomItem from './HalidomItem';\nimport HalidomSetting from './HalidomSetting';\nimport Header from './Header';\nimport IconBtns from './IconBtns';\nimport Image from './Image';\nimport Input from './Input';\nimport RadioBtns from './RadioBtns';\nimport Select from './Select';\n\nexport {\n  Checkbox,\n  CheckBtns,\n  Context,\n  ContextProvider,\n  Dialog,\n  HalidomItem,\n  HalidomSetting,\n  Header,\n  IconBtns,\n  Image,\n  Input,\n  RadioBtns,\n  Select,\n};\n"],"sourceRoot":""}