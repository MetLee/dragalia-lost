(window["webpackJsonpdragalia-lost"]=window["webpackJsonpdragalia-lost"]||[]).push([[5],{156:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(0),l=a.n(c),i=(a(3),a(4)),o=a(29),u=a(5),s=a(98),d=a(10),m=l.a.forwardRef(function(e,t){e.checked;var a=e.classes,c=e.className,u=e.control,m=e.disabled,b=(e.inputRef,e.label),p=e.labelPlacement,f=void 0===p?"end":p,v=(e.name,e.onChange,e.value,Object(r.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),h=Object(o.a)(),g=m;"undefined"===typeof g&&"undefined"!==typeof u.props.disabled&&(g=u.props.disabled),"undefined"===typeof g&&h&&(g=h.disabled);var O={disabled:g};return["checked","name","onChange","value","inputRef"].forEach(function(t){"undefined"===typeof u.props[t]&&"undefined"!==typeof e[t]&&(O[t]=e[t])}),l.a.createElement("label",Object(n.a)({className:Object(i.a)(a.root,c,"end"!==f&&a["labelPlacement".concat(Object(d.a)(f))],g&&a.disabled),ref:t},v),l.a.cloneElement(u,O),l.a.createElement(s.a,{component:"span",className:Object(i.a)(a.label,g&&a.disabled)},b))});t.a=Object(u.a)(function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},{name:"MuiFormControlLabel"})(m)},157:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(0),l=a.n(c),i=(a(3),a(4)),o=a(29),u=a(5),s=a(25),d=a(99),m=a(10),b=l.a.forwardRef(function(e,t){var a=e.edge,c=void 0!==a&&a,o=e.children,u=e.classes,s=e.className,b=e.color,p=void 0===b?"default":b,f=e.disabled,v=void 0!==f&&f,h=e.disableFocusRipple,g=void 0!==h&&h,O=e.size,j=void 0===O?"medium":O,y=Object(r.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return l.a.createElement(d.a,Object(n.a)({className:Object(i.a)(u.root,s,"default"!==p&&u["color".concat(Object(m.a)(p))],v&&u.disabled,{small:u["size".concat(Object(m.a)(j))]}[j],{start:u.edgeStart,end:u.edgeEnd}[c]),centerRipple:!0,focusRipple:!g,disabled:v,ref:t},y),l.a.createElement("span",{className:u.label},o))}),p=Object(u.a)(function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(s.b)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},{name:"MuiIconButton"})(b),f=l.a.forwardRef(function(e,t){var a=e.autoFocus,c=e.checked,u=e.checkedIcon,s=e.classes,d=e.className,m=e.defaultChecked,b=e.disabled,f=e.icon,v=e.id,h=e.inputProps,g=e.inputRef,O=e.name,j=e.onBlur,y=e.onChange,E=e.onFocus,k=e.readOnly,w=e.required,x=e.tabIndex,C=e.type,S=e.value,P=Object(r.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),H=l.a.useRef(null!=c).current,M=l.a.useState(Boolean(m)),R=M[0],D=M[1],_=Object(o.a)(),I=b;_&&"undefined"===typeof I&&(I=_.disabled);var N=H?c:R,F="checkbox"===C||"radio"===C;return l.a.createElement(p,Object(n.a)({component:"span",className:Object(i.a)(s.root,d,N&&s.checked,I&&s.disabled),disabled:I,tabIndex:null,role:void 0,onFocus:function(e){E&&E(e),_&&_.onFocus&&_.onFocus(e)},onBlur:function(e){j&&j(e),_&&_.onBlur&&_.onBlur(e)},ref:t},P),N?u:f,l.a.createElement("input",Object(n.a)({autoFocus:a,checked:c,defaultChecked:m,className:s.input,disabled:I,id:F&&v,name:O,onChange:function(e){var t=e.target.checked;H||D(t),y&&y(e,t)},readOnly:k,ref:g,required:w,tabIndex:x,type:C,value:S},h)))}),v=Object(u.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0}},{name:"PrivateSwitchBase"})(f),h=a(60),g=Object(h.a)(l.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),O=Object(h.a)(l.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),j=Object(h.a)(l.a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),y=l.a.createElement(O,null),E=l.a.createElement(g,null),k=l.a.createElement(j,null),w=l.a.forwardRef(function(e,t){var a=e.checkedIcon,c=void 0===a?y:a,o=e.classes,u=e.color,s=void 0===u?"secondary":u,d=e.icon,b=void 0===d?E:d,p=e.indeterminate,f=void 0!==p&&p,h=e.indeterminateIcon,g=void 0===h?k:h,O=e.inputProps,j=Object(r.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps"]);return l.a.createElement(v,Object(n.a)({type:"checkbox",checkedIcon:f?g:c,classes:{root:Object(i.a)(o.root,o["color".concat(Object(m.a)(s))],f&&o.indeterminate),checked:o.checked,disabled:o.disabled},color:s,inputProps:Object(n.a)({"data-indeterminate":f},O),icon:f?g:b,ref:t},j))});t.a=Object(u.a)(function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},{name:"MuiCheckbox"})(w)},158:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a(0),c=a.n(r),l=a(33),i=a(156),o=a(157),u=a(136),s=a(13),d=a(8),m=function(e,t){switch(e){case"adventurer":return function(e){var t,a,n=e.ex,r=e.id,c=e.mana,l=e.rarity,i=s.i["adventurerSkill_".concat(c)];return t="5"===l||"100001_01"===r?"5_".concat(c):"rest_".concat(c),c>=40?a="40":c>=10&&(a="10"),i+s.a[t].reduce(function(t,a){return e[a]?t+e[a]:t},0)+(s.i["fs_".concat(a)]||0)+s.i["coAbility_".concat(l,"_").concat(n)]}(t);case"weapon":return function(e){var t="4"===e.unbind?"4":"0",a=e.skill?s.i["itemSkill_".concat(t)]:0;return e.abilities11+e.abilities21+a}(t);case"wyrmprint1":case"wyrmprint2":return"4"===(a=t).unbind?a.abilities13+a.abilities23+a.abilities33:a.unbind>="2"?a.abilities12+a.abilities22+a.abilities32:a.abilities11+a.abilities21+a.abilities31;case"dragon":return function(e){var t=10*e.bond;return"4"===e.unbind?e.abilities12+e.abilities22+t+s.i.itemSkill_4:e.abilities11+e.abilities21+t+s.i.itemSkill_0}(t);default:return 0}var a},b=function(e,t){var a=["Hp","Atk"][t],n=["50","45","40","30","20","10","0"].indexOf(e.mana);return[e["McFullBonus".concat(a,"5")],e["Plus".concat(a,"4")],e["Plus".concat(a,"3")],e["Plus".concat(a,"2")],e["Plus".concat(a,"1")],e["Plus".concat(a,"0")],0].slice(n).reduce(function(e,t){return e+t},0)},p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return{hp:0,str:0,might:0,augHp:0,augStr:0,tHp:0,tStr:0,tMight:0};var n=t.curRarity,r=t.rarity,c=t.level,l=t.augHp,i=void 0===l?0:l,o=t.augStr,u=void 0===o?0:o;c=Number(c),i=Number(i),u=Number(u),"adventurer"===e&&(r=5);var s,p,f,v,h=Object(d.b)(e),g=Object(d.d)("".concat(h,"_").concat(r)),O=0,j=0;c===g?(O=t.MaxHp,j=t.MaxAtk):("adventurer"===e?(s=t["MinHp".concat(n)],p=t["MinAtk".concat(n)],f="MinHp5",v="MinAtk5"):(s=t.MinHp,p=t.MinAtk,f="MinHp",v="MinAtk"),1===c?(O=s,j=p):(O=s+(c-1)/(g-1)*(t.MaxHp-t[f]),j=p+(c-1)/(g-1)*(t.MaxAtk-t[v])));"adventurer"===e&&(O+=b(t,0),j+=b(t,1)),O=Object(d.a)(O),j=Object(d.a)(j),a&&(O=Object(d.a)(1.5*O+.5*i),j=Object(d.a)(1.5*j+.5*u));var y=O+i,E=j+u,k=m(e,t),w=O+j+k,x=y+E+k;return{hp:O,str:j,might:w,augHp:i,augStr:u,tHp:y,tStr:E,tMight:x}},f=function(e,t){for(var a=0,n=0,r=0;r<e.length;r+=1){var c=t[e[r]];if(c){var l=s.g[c.type][c.level];a+=l[0],n+=l[1]}}return{hp:a,str:n}},v=function(e,t){if(!e.adventurer)return null;for(var a={},n=e.adventurer,r=e.wyrmprint1,c=e.wyrmprint2,l=e.dragon,i=0,o=0,u=0,m=0,b=0,v=n.element,h=0;h<s.j.length;h+=1){var g=s.j[h],O=e[g],j=("weapon"===g||"dragon"===g)&&O&&v===O.element,y=p(g,O,j);i+=y.tHp,o+=y.tStr,u+=y.tMight,m+=y.augHp,b+=y.augStr,a[g]=y}a.augments={hp:m,str:b,might:m+b};var E=function(e,t,a){var n=t.adventurer,r=t.dragon,c=n.element,l=n.weapon,i=["adventurer_".concat(c),l],o=s.e.filter(function(e){return i.some(function(t){return e.includes(t)})}),u=f(o,a),m={hp:0,str:0};if(r){var b=s.e.filter(function(e){return e.includes("dragon_".concat(r.element))});m=f(b,a)}var p=e.adventurer.tHp*u.hp*.01,v=e.adventurer.tStr*u.str*.01,h=e.dragon.tHp*m.hp*.01,g=e.dragon.tStr*m.str*.01,O=Object(d.a)(p)+Object(d.a)(h),j=Object(d.a)(v)+Object(d.a)(g);return{hp:O,str:j,might:O+j}}(a,e,t);a.halidom=E;var k=0,w=0;if(l&&v===l.element){var x="4"===l.unbind?"2":"1";k=l["incHP".concat(x)],w=l["incSTR".concat(x)]}n.incSTR2&&n.mana>=n.STRLV2?w+=n.incSTR2:n.incSTR1&&n.mana>=n.STRLV1&&(w+=n.incSTR1),e.weapon&&e.weapon.incSTR&&v.includes(e.weapon.reqEle)&&(w+=e.weapon.incSTR);var C=0,S=0,P=!1,H=!1;if(r){var M=r.unbind,R=1;"4"===M?(R=3,P=!0):M>="2"&&(R=2),C+=r["incHP".concat(R)]||0,S+=r["incSTR".concat(R)]||0}if(c){var D=c.unbind,_=1;"4"===D?(_=3,H=!0):D>="2"&&(_=2),C+=c["incHP".concat(_)]||0,S+=c["incSTR".concat(_)]||0}C>8&&(C=8),!(S>20)||P&&H||(S=20),k+=C,w+=S;var I=i+E.hp,N=o+E.str,F=u+E.might,T=I*k*.01,A=N*w*.01;return a.ability={hp:Object(d.a)(T),str:Object(d.a)(A),might:0},I+=T,N+=A,a.total={hp:I,str:N,might:F},a},h=function(e,t){var a=e.adventurer,n=e.weapon,r=e.wyrmprint1,c=e.wyrmprint2,l=e.dragon,i=t.dungeon,o=t.multiplier,u=[],d=1*t.def+1*t.exDef;a.incDef2&&a.mana>=a.defLV2?(d+=a.incDef2,u.push("adventurer,def,".concat(a.incDef2))):a.incDef1&&a.mana>=a.defLv1&&(d+=a.incDef1,u.push("adventurer,def,".concat(a.incDef1))),n&&n.incDef&&a.element.includes(n.reqEle)&&(d+=n.incDef,u.push("weapon,def,".concat(n.incDef)));var m=0,b=0,p=0,f=0,v=s.n[i].element;if(r){var h=1;if("4"===r.unbind?h=3:r.unbind>="2"&&(h=2),r.incHP1){var g=r["incHP".concat(h)];m+=g,u.push("wyrmprint1,hp,".concat(g))}if(r.incDef1){var O=r["incDef".concat(h)];b+=O,u.push("wyrmprint1,def,".concat(O))}if(r.dungeon===i){var j=r["reduce".concat(h)];f+=j,u.push("wyrmprint1,reduce,".concat(j))}if(r.resEle===v){var y=r["incRes".concat(h)];p+=y,u.push("wyrmprint1,res,".concat(y))}}if(c){var E=1;if("4"===c.unbind?E=3:c.unbind>="2"&&(E=2),c.incHP1){var k=r["incHP".concat(E)];(m+=k)>8?u.push("wyrmprint2,hp,".concat(k," -> ").concat(8-m+k)):u.push("wyrmprint2,hp,".concat(k))}if(c.incDef1){var w=c["incDef".concat(E)];(b+=w)>20?(u.push("wyrmprint2,def,".concat(w," -> ").concat(20-b+w)),b=20):u.push("wyrmprint2,def,".concat(w))}if(c.dungeon===i){var x=c["reduce".concat(E)];(f+=x)>25?u.push("wyrmprint2,reduce,".concat(x," -> ").concat(25-f+x)):u.push("wyrmprint2,reduce,".concat(x))}if(c.resEle===v){var C=c["incRes".concat(E)];(p+=C)>15?u.push("wyrmprint2,res,".concat(C," -> ").concat(15-p+C)):u.push("wyrmprint2,res,".concat(C))}}var S=p;if((l||{}).resEle===v){var P=l.incRes;S+=P,u.push("dragon,res,".concat(P))}var H=1;a.element===s.d[v].da?H=.5:a.element===s.d[v].ad&&(H=1.5);var M=5/3*s.n[i].str*o*H*(1-.01*f)*(1-.01*S)/(a.DefCoef*(1+.01*d)),R=function(e){var t=Math.round(e);return Math.abs(e-t)<1e-5?t:Math.floor(e)};return{min:R(.95*M),max:R(1.05*M),arr:u}},g=a(11),O=a(4),j=a(53),y=["adventurer","weapon","wyrmprint1","wyrmprint2","dragon","augments","ability","halidom"];function E(e){var t=e.collapse,a=e.details,n=c.a.useContext(j.a).lang,l=Object(r.useMemo)(function(){return{body:Object(O.a)("body",{collapse:t}),footer:Object(O.a)("footer",{collapse:t})}},[t]),i=l.body,o=l.footer;return a?c.a.createElement("div",{id:"stats-table"},c.a.createElement("div",{className:"header"},c.a.createElement("span",null),c.a.createElement("span",null,"HP"),c.a.createElement("span",null,Object(d.k)("str",n)),c.a.createElement("span",null,Object(d.k)("might",n))),c.a.createElement("div",{className:i},y.map(function(e){var t=a[e],l=t.hp,i=t.str,o=t.might;return c.a.createElement(r.Fragment,{key:e},c.a.createElement("span",null,Object(d.k)(e,n)),c.a.createElement("span",null,l),c.a.createElement("span",null,i),c.a.createElement("span",null,o))})),c.a.createElement("div",{className:o},c.a.createElement("span",null,Object(d.k)("total",n)),c.a.createElement("span",null,Object(d.a)(a.total.hp)),c.a.createElement("span",null,Object(d.a)(a.total.str)),c.a.createElement("span",null,a.total.might))):null}E.defaultProps={collapse:!1};var k=c.a.memo(E),w=a(6);function x(e){var t=e.damageState,a=t.arr,n=t.hp,r=t.max,l=t.min,i=c.a.useContext(j.a).lang,o=c.a.useMemo(function(){return n>r?100:n<=l?0:100*(n-1-l)/(r-l)},[n,l,r]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"damage-bar",style:{background:"linear-gradient(120deg, green, #4ba946 ".concat(o,"%, #deb887 ").concat(o+5,"%, #be3223 , #800000)")}},"".concat(o.toFixed(2),"%")),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",{style:{fontWeight:"bold"}},c.a.createElement("td",null,"HP "),c.a.createElement("td",null,"MIN"),c.a.createElement("td",null,"MAX")),c.a.createElement("tr",null,c.a.createElement("td",null,n),c.a.createElement("td",null,l),c.a.createElement("td",null,r)),a.map(function(e){var t=e.split(",");return c.a.createElement("tr",{key:"".concat(t[0],"_").concat(t[1])},c.a.createElement("td",null,Object(d.k)(t[0],i)),c.a.createElement("td",null,Object(d.k)(t[1],i)),c.a.createElement("td",null,Object(d.k)(t[2],i)))}))))}x.defaultProps={arr:[],hp:0,max:0,min:0};var C=c.a.memo(x);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach(function(t){Object(w.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var H=Object.keys(s.n),M=["exHp","exDef","hp","def"];var R=c.a.memo(function(e){var t=e.dungeon,a=e.multiplier,l=e.stats,i=e.totalHp,o=e.setDungeon,u=e.setMultiplier,m=Object(r.useState)({exHp:"",exDef:"",hp:"",def:""}),b=Object(n.a)(m,2),p=b[0],f=b[1],v=function(e){var t=e.target,a=t.name,n=t.value;f(function(e){return P({},e,Object(w.a)({},a,n))})};Object(r.useEffect)(function(){if(l.adventurer){var e=l.adventurer,t=e.ex,a=e.rarity,n=e.weapon;if("Axe"===n||"Lance"===n){var r;"Axe"===n?r="exDef":"Lance"===n&&(r="exHp");var c=s.b["".concat(n,"_").concat(a)][t];if(c===p[r])return;f(function(e){return P({},e,Object(w.a)({},r,c))})}}},[l.adventurer]);var g=Object(r.useState)("hide"),O=Object(n.a)(g,2),y=O[0],E=O[1];Object(r.useEffect)(function(){setTimeout(function(){E(null)},250)},[]);var k=c.a.useMemo(function(){var e=p.exHp,n=p.exDef,r=p.def,c=h(l,{dungeon:t,multiplier:a,def:r,exDef:n});return P({hp:Object(d.a)(i*(1+.01*p.hp)*(1+.01*e))},c)},[l,i,t,a,p]);return c.a.createElement("div",{className:y},c.a.createElement("div",{className:"col-2 gutter-bottom"},c.a.createElement(j.k,{options:H,label:"dungeon",value:t,onChange:function(e){var t=e.target.value;o(t),u(s.n[t].multiplier)}}),c.a.createElement(j.i,{label:"multiplier",value:a,type:"float",onChange:function(e){u(e.target.value)}}),M.map(function(e){return c.a.createElement(j.i,{key:e,adornment:"%",label:e,value:p[e],onChange:v})})),c.a.createElement(C,{damageState:k}))});var D={resetStats:g.d},_=Object(l.b)(function(e){return{stats:e.stats,halidom:e.halidom}},D)(function(e){var t=e.stats,a=e.halidom,l=e.resetStats,d=Object(r.useState)(!1),m=Object(n.a)(d,2),b=m[0],p=m[1],f=Object(r.useState)("hzd"),h=Object(n.a)(f,2),g=h[0],O=h[1],j=Object(r.useState)(s.n[g].multiplier),y=Object(n.a)(j,2),E=y[0],w=y[1],x=c.a.useMemo(function(){return v(t,a)},[t,a]);return c.a.createElement("div",{id:"col1"},c.a.createElement("div",{className:"col-2"},c.a.createElement(i.a,{control:c.a.createElement(o.a,{checked:b,disabled:!x,onChange:function(e){p(e.target.checked)}}),label:"CHECK"}),c.a.createElement(u.a,{variant:"outlined",onClick:l},"RESET")),c.a.createElement(k,{details:x,collapse:b}),t.adventurer&&b&&c.a.createElement(R,{dungeon:g,multiplier:E,setDungeon:O,setMultiplier:w,totalHp:x.total.hp,stats:t}))}),I={mana_3:["30","20","10","0"],mana_4:["40","30","20","10","0"],mana_5:["50","45","40","30","20","10","0"],curRarity_3:["5","4","3"],curRarity_4:["5","4"],curRarity_5:["5"],rest:["4","3","2","1","0"]};var N=c.a.memo(function(e){var t=e.label,a=e.value,n=e.rarity,r=e.disabled,l=e.onChange,i=c.a.useMemo(function(){return"curRarity"===t||"mana"===t?I["".concat(t,"_").concat(n)]:"ex"===t||"unbind"===t?I.rest:[]},[t,n]);return c.a.createElement(j.k,{label:t,value:a,options:i,disabled:r,onChange:l})});var F={selectFocus:g.g,selectItem:g.h},T=Object(l.b)(function(e,t){var a=e.focused,n=e.stats,r=t.statsKey;return{scale:a===r&&!n[r]}},F)(function(e){var t=e.image,a=e.name,n=e.scale,r=e.statsKey,l=e.setPanel,i=e.selectFocus,o=e.selectItem,u=c.a.useContext(j.a).lang,s=Object(d.b)(r),m=a?a[u]:Object(d.k)(r,u),b=Object(O.a)("lg",{scale:n});return c.a.createElement("div",null,c.a.createElement(j.h,{field:s,image:t,size:b,tabIndex:"-1",onClick:function(){n||o(r),l("stats"),i(r),Object(d.j)(d.g.col3)}}),c.a.createElement("div",null,m))});function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach(function(t){Object(w.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var L={updateItem:g.j},B=Object(l.b)(null,L)(function(e){var t=e.statsKey,a=e.item,r=e.setPanel,l=e.updateItem,i=a||{},o=i.bond,u=i.curRarity,s=i.ex,m=i.level,b=i.mana,p=i.name,f=i.rarity,v=i.unbind,h=i.augHp,g=void 0===h?"":h,O=i.augStr,y=void 0===O?"":O,E=Object(d.c)(a,t),k=c.a.useState({bond:o,level:m,augHp:g,augStr:y}),x=Object(n.a)(k,2),C=x[0],S=x[1],P=function(e){var n=e.target,r=n.name,c=n.value,i=function(e,n){if(C[e]&&n===C[e])return null;if(!C[e]&&n===a[e])return null;var r,c=Object(w.a)({},e,n);switch(e){case"augHp":case"augStr":r=Object(d.d)("augments"),c[e]=n>r?r:n;break;case"level":var l="adventurer"===t?u:f;r=Object(d.d)("adventurer_".concat(l),v),c.level=n>r?r:n;break;case"curRarity":c=z({},c,{level:Object(d.d)("adventurer_".concat(n)),mana:Object(d.d)("mana".concat(n)),ex:"5"===n?"4":"0"});break;case"mana":c.ex="50"===n?"4":"0";break;case"ex":c.mana="45";break;case"unbind":var i=Object(d.b)(t);c.level=Object(d.d)("".concat(i,"_").concat(f),n);break;case"bond":r=Object(d.d)("bond"),c.bond=n>r?r:n}return c}(r,c);if(null!==i){var o={statsKey:t,updates:i};if(Object.prototype.hasOwnProperty.call(C,r)){var s,m=C["".concat(r,"Id")];clearTimeout(m),m=setTimeout(function(){"level"!==r&&"bond"!==r||""!==i[r]||(i[r]=1,S(z({},C,Object(w.a)({},r,1)))),l(o)},1e3),S(z({},C,(s={},Object(w.a)(s,"".concat(r,"Id"),m),Object(w.a)(s,r,i[r]),s)))}else i.level&&S(z({},C,{level:i.level})),l(o)}};return c.a.createElement("div",{className:"stats-field",ref:d.g[t]},c.a.createElement(T,{name:p,statsKey:t,image:E,setPanel:r}),a&&("adventurer"===t?c.a.createElement("div",null,c.a.createElement(N,{label:"mana",value:b,rarity:u,onChange:P}),c.a.createElement(N,{label:"ex",value:s,onChange:P}),c.a.createElement(j.i,{label:"augHp",value:C.augHp,onChange:P}),c.a.createElement(j.i,{label:"augStr",value:C.augStr,onChange:P}),c.a.createElement(j.i,{label:"level",value:C.level,onChange:P}),c.a.createElement(N,{label:"curRarity",value:u,rarity:f,onChange:P})):c.a.createElement("div",null,c.a.createElement(j.i,{label:"level",value:C.level,onChange:P}),c.a.createElement(N,{label:"unbind",value:v,onChange:P}),c.a.createElement(j.i,{label:"augHp",value:C.augHp,onChange:P}),c.a.createElement(j.i,{label:"augStr",value:C.augStr,onChange:P}),"dragon"===t&&c.a.createElement(j.i,{label:"bond",value:C.bond,onChange:P}))))});var K=Object(l.b)(function(e){return{stats:e.stats}})(function(e){var t=e.setPanel,a=e.stats,r=c.a.useState("adventurer"),l=Object(n.a)(r,2),i=l[0],o=l[1];return c.a.useEffect(function(){var e=(a.adventurer||{}).id;o(void 0===e?"adventurer":e)},[a.adventurer]),c.a.createElement("div",{id:"col2"},s.j.map(function(e){var n=a[e],r=(n||{}).id,l=void 0===r?e:r;return c.a.createElement(B,{key:"".concat(i,"_").concat(l),statsKey:e,item:n,setPanel:t})}))}),$=["del","refresh","save"];var V={loadHalidom:g.b},q=Object(l.b)(function(e){var t=e.stats,a=t.adventurer,n=t.dragon,r=e.halidom,c=a||{};return{element:c.element,weapon:c.weapon,dragonEle:(n||{}).element,halidom:r}},V)(function(e){var t,a=e.element,n=e.weapon,r=e.dragonEle,l=e.halidom,i=e.loadHalidom;if(!a)return null;t=a===r?[a,n]:r?["adventurer_".concat(a),n,"dragon_".concat(r)]:["adventurer_".concat(a),n];var o=s.e.filter(function(e){return t.some(function(t){return e.includes(t)})});return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.g,{btns:$,onClick:function(e){switch(e.currentTarget.name){case"del":Object(d.h)("halidom");break;case"refresh":i();break;case"save":Object(d.i)("halidom",l)}}}),c.a.createElement("div",null,o.map(function(e){return c.a.createElement(j.d,{key:e,itemKey:e})})))}),J=a(34),U=a(149),W={weapon:[""].concat(Object(J.a)(s.k)),element:[""].concat(Object(J.a)(s.c)),rarity:["","5","4","3"],type:["","Core","Void","Limited"]};var X={selectFilter:g.e,resetFilters:g.c},G=Object(l.b)(function(e){return{filters:e.filters}},X)(function(e){var t=e.fields,a=e.filters,n=e.search,r=e.setSearch,l=e.resetFilters,i=e.selectFilter,o=c.a.useContext(j.a).lang,s=c.a.useCallback(function(e){i(e.target)},[i]);return c.a.createElement("div",{id:"filter-stats"},t.map(function(e){return c.a.createElement(j.k,{key:e,label:e,value:a[e],options:W[e],onChange:s})}),c.a.createElement(U.a,{variant:"filled",value:n,label:Object(d.k)("search",o),InputProps:{spellCheck:!1},onChange:function(e){r(e.target.value)}}),c.a.createElement(u.a,{color:"secondary",variant:"contained",onClick:function(){r(""),l()}},"RESET"))}),Q=a(154),Y=a(153);var Z={selectItem:g.h},ee=Object(l.b)(function(e){return{focused:e.focused}},Z)(function(e){var t=e.data,a=t.cols,n=t.field,r=t.list,l=e.focused,i=e.index,o=e.style,u=e.selectItem,m=c.a.useContext(j.a).lang,b=r[i],p=s.l[n][b],f=p.name[m],v=Object(d.c)(p,n);return c.a.createElement("div",{style:o,className:"item-list"},c.a.createElement(j.h,{field:n,image:v,onClick:function(){u({statsKey:l,item:p}),Object(d.j)(d.g[l],!0)}}),c.a.createElement("span",{className:"name"},f),a.map(function(e){if("weapon"===e||"element"===e){var t="".concat(e,"_").concat(p[e]);return c.a.createElement(j.h,{key:e,size:"sm",field:"icon",image:t})}return c.a.createElement("span",{key:e},p[e])}))});var te=Object(l.b)(function(e){return{filters:e.filters}})(function(e){var t=e.field,a=e.fields,l=e.filters,i=e.search,o=c.a.useContext(j.a).lang,u=c.a.useState("hide"),m=Object(n.a)(u,2),b=m[0],p=m[1];Object(r.useEffect)(function(){setTimeout(function(){p(null)},250)},[]);var f=c.a.useMemo(function(){return{list:Object.keys(s.l[t]).filter(function(e){var n=s.l[t][e];return a.every(function(e){return n[e].includes(l[e])})&&Object(d.k)(e,o,t).toUpperCase().includes(i.toUpperCase())}).sort(function(e,a){var n=s.l[t][e],r=s.l[t][a];if(n.rarity>r.rarity)return-1;if(n.rarity<r.rarity)return 1;if(n.element){var c=[].concat(Object(J.a)(s.c),["None"]),l=c.indexOf(n.element),i=c.indexOf(r.element);if(l>i)return 1;if(l<i)return-1}if(n.weapon){var o=s.k.indexOf(n.weapon),u=s.k.indexOf(r.weapon);if(o>u)return 1;if(o<u)return-1}if("wyrmprint"===t){if(n.dungeon&&!r.dungeon)return-1;if(!n.dungeon&&r.dungeon)return 1;if(n.MaxAtk+n.MaxHp+n.abilities13+n.abilities23+n.abilities33>r.MaxAtk+r.MaxHp+r.abilities13+r.abilities23+r.abilities33)return-1;if(n.MaxAtk+n.MaxHp+n.abilities13+n.abilities23+n.abilities33<r.MaxAtk+r.MaxHp+r.abilities13+r.abilities23+r.abilities33)return 1}else{if(n.MaxAtk+n.MaxHp>r.MaxAtk+r.MaxHp)return-1;if(n.MaxAtk+n.MaxHp<r.MaxAtk+r.MaxHp)return 1}return n.id>r.id?1:n.id<r.id?-1:0}),cols:"weapon"===t?a.slice(0,-1):a,field:t}},[t,a,l,o,i]),v=c.a.useRef(null);return Object(r.useEffect)(function(){v.current&&v.current.scrollToItem(0)},[t,l]),c.a.createElement("div",{className:b},c.a.createElement(Y.a,null,function(e){var t=e.height,a=e.width;return c.a.createElement(Q.b,{ref:v,height:t,width:a,itemSize:80,itemCount:f.list.length,itemData:f},ee)}))}),ae={adventurer:["weapon","element","rarity"],weapon:["weapon","element","rarity","type"],wyrmprint:["rarity"],dragon:["element","rarity"]};var ne=Object(l.b)(function(e){var t=e.focused;return{field:Object(d.b)(t)}})(function(e){var t=e.field,a=c.a.useState(""),r=Object(n.a)(a,2),l=r[0],i=r[1];return c.a.useEffect(function(){i("")},[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(G,{fields:ae[t],search:l,setSearch:i}),c.a.createElement(te,{field:t,fields:ae[t],search:l}))}),re=["stats","halidom"];var ce=c.a.memo(function(e){var t=e.panel,a=e.setPanel;return c.a.createElement("div",{id:"col3",ref:d.g.col3},c.a.createElement(j.j,{name:"panel",checked:t,btns:re,onChange:a}),"stats"===t?c.a.createElement(ne,null):c.a.createElement(q,null))});var le=function(){var e=c.a.useState("stats"),t=Object(n.a)(e,2),a=t[0],r=t[1];return c.a.createElement("main",{id:"stats"},c.a.createElement(_,null),c.a.createElement(K,{setPanel:r}),c.a.createElement(ce,{panel:a,setPanel:r}))};t.default=le}}]);
//# sourceMappingURL=5.0f6320d9.chunk.js.map