(window["webpackJsonpdragalia-lost"]=window["webpackJsonpdragalia-lost"]||[]).push([[5],{159:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(0),l=a.n(c),i=(a(4),a(3)),o=a(28),u=a(5),s=a(99),d=a(11),m=l.a.forwardRef(function(e,t){e.checked;var a=e.classes,c=e.className,u=e.control,m=e.disabled,b=(e.inputRef,e.label),f=e.labelPlacement,p=void 0===f?"end":f,v=(e.name,e.onChange,e.value,Object(r.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),h=Object(o.a)(),g=m;"undefined"===typeof g&&"undefined"!==typeof u.props.disabled&&(g=u.props.disabled),"undefined"===typeof g&&h&&(g=h.disabled);var O={disabled:g};return["checked","name","onChange","value","inputRef"].forEach(function(t){"undefined"===typeof u.props[t]&&"undefined"!==typeof e[t]&&(O[t]=e[t])}),l.a.createElement("label",Object(n.a)({className:Object(i.a)(a.root,c,"end"!==p&&a["labelPlacement".concat(Object(d.a)(p))],g&&a.disabled),ref:t},v),l.a.cloneElement(u,O),l.a.createElement(s.a,{component:"span",className:Object(i.a)(a.label,g&&a.disabled)},b))});t.a=Object(u.a)(function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},{name:"MuiFormControlLabel"})(m)},160:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(0),l=a.n(c),i=(a(4),a(3)),o=a(28),u=a(5),s=a(23),d=a(100),m=a(11),b=l.a.forwardRef(function(e,t){var a=e.edge,c=void 0!==a&&a,o=e.children,u=e.classes,s=e.className,b=e.color,f=void 0===b?"default":b,p=e.disabled,v=void 0!==p&&p,h=e.disableFocusRipple,g=void 0!==h&&h,O=e.size,j=void 0===O?"medium":O,y=Object(r.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return l.a.createElement(d.a,Object(n.a)({className:Object(i.a)(u.root,s,"default"!==f&&u["color".concat(Object(m.a)(f))],v&&u.disabled,{small:u["size".concat(Object(m.a)(j))]}[j],{start:u.edgeStart,end:u.edgeEnd}[c]),centerRipple:!0,focusRipple:!g,disabled:v,ref:t},y),l.a.createElement("span",{className:u.label},o))}),f=Object(u.a)(function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(s.b)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},{name:"MuiIconButton"})(b),p=l.a.forwardRef(function(e,t){var a=e.autoFocus,c=e.checked,u=e.checkedIcon,s=e.classes,d=e.className,m=e.defaultChecked,b=e.disabled,p=e.icon,v=e.id,h=e.inputProps,g=e.inputRef,O=e.name,j=e.onBlur,y=e.onChange,E=e.onFocus,k=e.readOnly,x=e.required,w=e.tabIndex,S=e.type,C=e.value,P=Object(r.a)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),H=l.a.useRef(null!=c).current,M=l.a.useState(Boolean(m)),R=M[0],D=M[1],_=Object(o.a)(),N=b;_&&"undefined"===typeof N&&(N=_.disabled);var I=H?c:R,F="checkbox"===S||"radio"===S;return l.a.createElement(f,Object(n.a)({component:"span",className:Object(i.a)(s.root,d,I&&s.checked,N&&s.disabled),disabled:N,tabIndex:null,role:void 0,onFocus:function(e){E&&E(e),_&&_.onFocus&&_.onFocus(e)},onBlur:function(e){j&&j(e),_&&_.onBlur&&_.onBlur(e)},ref:t},P),I?u:p,l.a.createElement("input",Object(n.a)({autoFocus:a,checked:c,defaultChecked:m,className:s.input,disabled:N,id:F&&v,name:O,onChange:function(e){var t=e.target.checked;H||D(t),y&&y(e,t)},readOnly:k,ref:g,required:x,tabIndex:w,type:S,value:C},h)))}),v=Object(u.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0}},{name:"PrivateSwitchBase"})(p),h=a(62),g=Object(h.a)(l.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),O=Object(h.a)(l.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),j=Object(h.a)(l.a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),y=l.a.createElement(O,null),E=l.a.createElement(g,null),k=l.a.createElement(j,null),x=l.a.forwardRef(function(e,t){var a=e.checkedIcon,c=void 0===a?y:a,o=e.classes,u=e.color,s=void 0===u?"secondary":u,d=e.icon,b=void 0===d?E:d,f=e.indeterminate,p=void 0!==f&&f,h=e.indeterminateIcon,g=void 0===h?k:h,O=e.inputProps,j=Object(r.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps"]);return l.a.createElement(v,Object(n.a)({type:"checkbox",checkedIcon:p?g:c,classes:{root:Object(i.a)(o.root,o["color".concat(Object(m.a)(s))],p&&o.indeterminate),checked:o.checked,disabled:o.disabled},color:s,inputProps:Object(n.a)({"data-indeterminate":p},O),icon:p?g:b,ref:t},j))});t.a=Object(u.a)(function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(s.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},{name:"MuiCheckbox"})(x)},161:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a(0),c=a.n(r),l=a(33),i=a(159),o=a(160),u=a(139),s=a(10),d=a(7),m=function(e,t){switch(e){case"adventurer":return function(e){var t,a,n=e.ex,r=e.id,c=e.mana,l=e.rarity,i=s.i["adventurerSkill_".concat(c)];return t="5"===l||"100001_01"===r?"5_".concat(c):"rest_".concat(c),c>=40?a="40":c>=10&&(a="10"),i+s.a[t].reduce(function(t,a){return e[a]?t+e[a]:t},0)+(s.i["fs_".concat(a)]||0)+s.i["coAbility_".concat(l,"_").concat(n)]}(t);case"weapon":return function(e){var t="4"===e.unbind?"4":"0",a=e.skill?s.i["itemSkill_".concat(t)]:0;return e.abilities11+e.abilities21+a}(t);case"wyrmprint1":case"wyrmprint2":return"4"===(a=t).unbind?a.abilities13+a.abilities23+a.abilities33:a.unbind>="2"?a.abilities12+a.abilities22+a.abilities32:a.abilities11+a.abilities21+a.abilities31;case"dragon":return function(e){var t=10*e.bond;return"4"===e.unbind?e.abilities12+e.abilities22+t+s.i.itemSkill_4:e.abilities11+e.abilities21+t+s.i.itemSkill_0}(t);default:return 0}var a},b=function(e,t){var a=["Hp","Atk"][t],n=["50","45","40","30","20","10","0"].indexOf(e.mana);return[e["McFullBonus".concat(a,"5")],e["Plus".concat(a,"4")],e["Plus".concat(a,"3")],e["Plus".concat(a,"2")],e["Plus".concat(a,"1")],e["Plus".concat(a,"0")],0].slice(n).reduce(function(e,t){return e+t},0)},f=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return{hp:0,str:0,might:0,augHp:0,augStr:0,tHp:0,tStr:0,tMight:0};var n=t.curRarity,r=t.rarity,c=t.level,l=t.augHp,i=void 0===l?0:l,o=t.augStr,u=void 0===o?0:o;c=Number(c),i=Number(i),u=Number(u),"adventurer"===e&&(r=5);var s,f,p,v,h=Object(d.b)(e),g=Object(d.d)("".concat(h,"_").concat(r)),O=0,j=0;c===g?(O=t.MaxHp,j=t.MaxAtk):("adventurer"===e?(s=t["MinHp".concat(n)],f=t["MinAtk".concat(n)],p="MinHp5",v="MinAtk5"):(s=t.MinHp,f=t.MinAtk,p="MinHp",v="MinAtk"),1===c?(O=s,j=f):(O=s+(c-1)/(g-1)*(t.MaxHp-t[p]),j=f+(c-1)/(g-1)*(t.MaxAtk-t[v])));"adventurer"===e&&(O+=b(t,0),j+=b(t,1)),O=Object(d.a)(O),j=Object(d.a)(j),a&&(O=Object(d.a)(1.5*O+.5*i),j=Object(d.a)(1.5*j+.5*u));var y=O+i,E=j+u,k=m(e,t),x=O+j+k,w=y+E+k;return{hp:O,str:j,might:x,augHp:i,augStr:u,tHp:y,tStr:E,tMight:w}},p=function(e,t){for(var a=0,n=0,r=0;r<e.length;r+=1){var c=t[e[r]];if(c){var l=s.g[c.type][c.level];a+=l[0],n+=l[1]}}return{hp:a,str:n}},v=function(e,t){if(!e.adventurer)return null;for(var a={},n=e.adventurer,r=e.wyrmprint1,c=e.wyrmprint2,l=e.dragon,i=0,o=0,u=0,m=0,b=0,v=n.element,h=0;h<s.k.length;h+=1){var g=s.k[h],O=e[g],j=("weapon"===g||"dragon"===g)&&O&&v===O.element,y=f(g,O,j);i+=y.tHp,o+=y.tStr,u+=y.tMight,m+=y.augHp,b+=y.augStr,a[g]=y}a.augments={hp:m,str:b,might:m+b};var E=function(e,t,a){var n=t.adventurer,r=t.dragon,c=n.element,l=n.weapon,i=["adventurer_".concat(c),l],o=s.e.filter(function(e){return i.some(function(t){return e.includes(t)})}),u=p(o,a),m={hp:0,str:0};if(r){var b=s.e.filter(function(e){return e.includes("dragon_".concat(r.element))});m=p(b,a)}var f=e.adventurer.tHp*u.hp*.01,v=e.adventurer.tStr*u.str*.01,h=e.dragon.tHp*m.hp*.01,g=e.dragon.tStr*m.str*.01,O=Object(d.a)(f)+Object(d.a)(h),j=Object(d.a)(v)+Object(d.a)(g);return{hp:O,str:j,might:O+j}}(a,e,t);a.halidom=E;var k=0,x=0;if(l&&v.includes(l.reqEle)){var w="4"===l.unbind?"2":"1";k=l["incHP".concat(w)],x=l["incSTR".concat(w)]}n.incSTR2&&n.mana>=n.STRLV2?x+=n.incSTR2:n.incSTR1&&n.mana>=n.STRLV1&&(x+=n.incSTR1),e.weapon&&e.weapon.incSTR&&v.includes(e.weapon.reqEle)&&(x+=e.weapon.incSTR);var S=0,C=0,P=!1,H=!1;if(r){var M=r.unbind,R=1;"4"===M?(R=3,P=!0):M>="2"&&(R=2),S+=r["incHP".concat(R)]||0,C+=r["incSTR".concat(R)]||0}if(c){var D=c.unbind,_=1;"4"===D?(_=3,H=!0):D>="2"&&(_=2),S+=c["incHP".concat(_)]||0,C+=c["incSTR".concat(_)]||0}S>8&&(S=8),!(C>20)||P&&H||(C=20),k+=S,x+=C;var N=i+E.hp,I=o+E.str,F=u+E.might,T=N*k*.01,A=I*x*.01;return a.ability={hp:Object(d.a)(T),str:Object(d.a)(A),might:0},N+=T,I+=A,a.total={hp:N,str:I,might:F},a},h=function(e,t){var a=e.adventurer,n=e.weapon,r=e.wyrmprint1,c=e.wyrmprint2,l=e.dragon,i=t.dungeon,o=t.str,u=t.multiplier,d=[],m=1*t.def+1*t.exDef;a.incDef2&&a.mana>=a.defLV2?(m+=a.incDef2,d.push("adventurer,def,".concat(a.incDef2))):a.incDef1&&a.mana>=a.defLv1&&(m+=a.incDef1,d.push("adventurer,def,".concat(a.incDef1))),n&&n.incDef&&a.element.includes(n.reqEle)&&(m+=n.incDef,d.push("weapon,def,".concat(n.incDef)));var b=0,f=0,p=0,v=0,h=s.o[i].element;if(r){var g=1;if("4"===r.unbind?g=3:r.unbind>="2"&&(g=2),r.incHP1){var O=r["incHP".concat(g)];b+=O,d.push("wyrmprint1,hp,".concat(O))}if(r.incDef1){var j=r["incDef".concat(g)];f+=j,d.push("wyrmprint1,def,".concat(j))}if(r.dungeon===i){var y=r["reduce".concat(g)];v+=y,d.push("wyrmprint1,reduce,".concat(y))}if(r.resEle===h){var E=r["incRes".concat(g)];p+=E,d.push("wyrmprint1,res,".concat(E))}}if(c){var k=1;if("4"===c.unbind?k=3:c.unbind>="2"&&(k=2),c.incHP1){var x=r["incHP".concat(k)];(b+=x)>8?d.push("wyrmprint2,hp,".concat(x," -> ").concat(8-b+x)):d.push("wyrmprint2,hp,".concat(x))}if(c.incDef1){var w=c["incDef".concat(k)];(f+=w)>20?(d.push("wyrmprint2,def,".concat(w," -> ").concat(20-f+w)),f=20):d.push("wyrmprint2,def,".concat(w))}if(c.dungeon===i){var S=c["reduce".concat(k)];(v+=S)>25?d.push("wyrmprint2,reduce,".concat(S," -> ").concat(25-v+S)):d.push("wyrmprint2,reduce,".concat(S))}if(c.resEle===h){var C=c["incRes".concat(k)];(p+=C)>15?d.push("wyrmprint2,res,".concat(C," -> ").concat(15-p+C)):d.push("wyrmprint2,res,".concat(C))}}var P=p;if(m+=f,(l||{}).resEle===h){var H=l.incRes;P+=H,d.push("dragon,res,".concat(H))}var M=1;a.element===s.d[h].da?M=.5:a.element===s.d[h].ad&&(M=1.5);var R=5/3*o*u*M*(1-.01*v)*(1-.01*P)/(a.DefCoef*(1+.01*m)),D=function(e){var t=Math.round(e);return Math.abs(e-t)<1e-5?t:Math.floor(e)};return{min:D(.95*R),max:D(1.05*R),arr:d}},g=a(14),O=a(3),j=a(54),y=["adventurer","weapon","wyrmprint1","wyrmprint2","dragon","augments","ability","halidom"];var E=c.a.memo(function(e){var t=e.collapse,a=e.details,n=c.a.useContext(j.b).lang,l=Object(r.useMemo)(function(){return{body:Object(O.a)("body",{collapse:t}),footer:Object(O.a)("footer",{collapse:t})}},[t]),i=l.body,o=l.footer;return a?c.a.createElement("div",{id:"stats-table"},c.a.createElement("div",{className:"header"},c.a.createElement("span",null),c.a.createElement("span",null,"HP"),c.a.createElement("span",null,Object(d.k)("str",n)),c.a.createElement("span",null,Object(d.k)("might",n))),c.a.createElement("div",{className:i},y.map(function(e){var t=a[e],l=t.hp,i=t.str,o=t.might;return c.a.createElement(r.Fragment,{key:e},c.a.createElement("span",null,Object(d.k)(e,n)),c.a.createElement("span",null,l),c.a.createElement("span",null,i),c.a.createElement("span",null,o))})),c.a.createElement("div",{className:o},c.a.createElement("span",null,Object(d.k)("total",n)),c.a.createElement("span",null,Object(d.a)(a.total.hp)),c.a.createElement("span",null,Object(d.a)(a.total.str)),c.a.createElement("span",null,a.total.might))):null}),k=a(6);function x(e){var t=e.damageState,a=t.arr,n=t.hp,r=t.max,l=t.min,i=c.a.useContext(j.b).lang,o=c.a.useMemo(function(){return n>r?100:n<=l?0:100*(n-1-l)/(r-l)},[n,l,r]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"damage-bar",style:{background:"linear-gradient(120deg, green, #4ba946 ".concat(o,"%, #deb887 ").concat(o+5,"%, #be3223 , #800000)")}},"".concat(o.toFixed(2),"%")),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",{style:{fontWeight:"bold"}},c.a.createElement("td",null,"HP "),c.a.createElement("td",null,"MIN"),c.a.createElement("td",null,"MAX")),c.a.createElement("tr",null,c.a.createElement("td",null,n),c.a.createElement("td",null,l),c.a.createElement("td",null,r)),a.map(function(e){var t=e.split(",");return c.a.createElement("tr",{key:"".concat(t[0],"_").concat(t[1])},c.a.createElement("td",null,Object(d.k)(t[0],i)),c.a.createElement("td",null,Object(d.k)(t[1],i)),c.a.createElement("td",null,Object(d.k)(t[2],i)))}))))}x.defaultProps={arr:[],hp:0,max:0,min:0};var w=c.a.memo(x);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach(function(t){Object(k.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var P=Object.keys(s.o),H=["exHp","exDef","hp","def"];var M=c.a.memo(function(e){var t=e.stats,a=e.totalHp,l=Object(r.useState)("hide"),u=Object(n.a)(l,2),m=u[0],b=u[1];Object(r.useEffect)(function(){setTimeout(function(){b(null)},250)},[]);var f=Object(r.useState)("hzd"),p=Object(n.a)(f,2),v=p[0],g=p[1],y=Object(r.useState)(!1),E=Object(n.a)(y,2),x=E[0],S=E[1],M=Object(r.useState)(""),R=Object(n.a)(M,2),D=R[0],_=R[1],N=Object(r.useState)(""),I=Object(n.a)(N,2),F=I[0],T=I[1];Object(r.useEffect)(function(){var e=s.o[v];_(e.str),T(e.multiplier)},[v]);var A=Object(r.useState)({exHp:"",exDef:"",hp:"",def:""}),z=Object(n.a)(A,2),L=z[0],B=z[1],K=function(e){var t=e.target,a=t.name,n=t.value;B(function(e){return C({},e,Object(k.a)({},a,n))})};Object(r.useEffect)(function(){if(t.adventurer){var e=t.adventurer,a=e.ex,n=e.rarity,r=e.weapon;if("Axe"===r||"Lance"===r){var c;"Axe"===r?c="exDef":"Lance"===r&&(c="exHp");var l=s.b["".concat(r,"_").concat(n)][a];if(l===L[c])return;B(function(e){return C({},e,Object(k.a)({},c,l))})}}},[t.adventurer]);var $=c.a.useMemo(function(){var e=L.exHp,n=L.exDef,r=L.def,c=h(t,{dungeon:v,str:D,multiplier:F,def:r,exDef:n});return C({hp:Object(d.a)(a*(1+.01*L.hp)*(1+.01*e))},c)},[t,a,v,D,F,L]),V=Object(O.a)("col-2","animated-collapse",{collapse:!x});return c.a.createElement("div",{className:m},c.a.createElement("div",{className:"col-2"},c.a.createElement(j.l,{options:P,label:"dungeon",value:v,onChange:function(e){var t=e.target.value;g(t)}}),c.a.createElement(i.a,{control:c.a.createElement(o.a,{color:"primary",checked:x,onChange:function(e){S(e.target.checked)}}),label:"setting"})),c.a.createElement("div",{className:V},c.a.createElement(j.j,{label:"str",value:D,onChange:function(e){_(e.target.value)}}),c.a.createElement(j.j,{label:"multiplier",value:F,type:"float",onChange:function(e){T(e.target.value)}})),c.a.createElement("div",{className:"col-2"},H.map(function(e){return c.a.createElement(j.j,{key:e,adornment:"%",label:e,value:L[e],onChange:K})})),c.a.createElement(w,{damageState:$}))});var R={resetStats:g.d},D=Object(l.b)(function(e){return{stats:e.stats,halidom:e.halidom}},R)(function(e){var t=e.stats,a=e.halidom,r=e.setPanel,l=e.resetStats,s=c.a.useState(!1),d=Object(n.a)(s,2),m=d[0],b=d[1],f=c.a.useMemo(function(){return v(t,a)},[t,a]);return c.a.createElement("div",{id:"col1"},c.a.createElement("div",{className:"col-2"},c.a.createElement(i.a,{control:c.a.createElement(o.a,{disabled:!f,color:"primary",checked:m,onChange:function(e){b(e.target.checked)}}),label:"CHECK"}),c.a.createElement(u.a,{variant:"outlined",onClick:function(){r("stats"),l()}},"RESET")),c.a.createElement(E,{details:f,collapse:m}),t.adventurer&&m&&c.a.createElement(M,{stats:t,totalHp:f.total.hp}))}),_={mana_3:["30","20","10","0"],mana_4:["40","30","20","10","0"],mana_5:["50","45","40","30","20","10","0"],curRarity_3:["5","4","3"],curRarity_4:["5","4"],curRarity_5:["5"],rest:["4","3","2","1","0"]};var N=c.a.memo(function(e){var t=e.label,a=e.value,n=e.rarity,r=e.disabled,l=e.onChange,i=c.a.useMemo(function(){return"curRarity"===t||"mana"===t?_["".concat(t,"_").concat(n)]:"ex"===t||"unbind"===t?_.rest:[]},[t,n]);return c.a.createElement(j.l,{label:t,value:a,options:i,disabled:r,onChange:l})});var I={selectFocus:g.f,selectItem:g.g},F=Object(l.b)(function(e,t){var a=e.focused,n=e.stats,r=t.statsKey;return{scale:a===r&&!n[r]}},I)(function(e){var t=e.image,a=e.name,n=e.scale,r=e.statsKey,l=e.setPanel,i=e.selectFocus,o=e.selectItem,u=c.a.useContext(j.b).lang,s=Object(d.b)(r),m=a?a[u]:Object(d.k)(r,u),b=Object(O.a)("lg",{scale:n});return c.a.createElement("div",null,c.a.createElement(j.i,{field:s,image:t,size:b,tabIndex:"-1",onClick:function(){n||o(r),l("stats"),i(r),Object(d.j)(d.g.col3)}}),c.a.createElement("div",null,m))});function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach(function(t){Object(k.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var z={updateItem:g.i},L=Object(l.b)(null,z)(function(e){var t=e.statsKey,a=e.item,r=e.setPanel,l=e.updateItem,i=a||{},o=i.bond,u=i.curRarity,s=i.ex,m=i.level,b=i.mana,f=i.name,p=i.rarity,v=i.unbind,h=i.augHp,g=void 0===h?"":h,O=i.augStr,y=void 0===O?"":O,E=Object(d.c)(a,t),x=c.a.useState({bond:o,level:m,augHp:g,augStr:y}),w=Object(n.a)(x,2),S=w[0],C=w[1],P=function(e){var n=e.target,r=n.name,c=n.value,i=function(e,n){if(S[e]&&n===S[e])return null;if(!S[e]&&n===a[e])return null;var r,c=Object(k.a)({},e,n);switch(e){case"augHp":case"augStr":r=Object(d.d)("augments"),c[e]=n>r?r:n;break;case"level":var l="adventurer"===t?u:p;r=Object(d.d)("adventurer_".concat(l),v),c.level=n>r?r:n;break;case"curRarity":c=A({},c,{level:Object(d.d)("adventurer_".concat(n)),mana:Object(d.d)("mana".concat(n)),ex:"5"===n?"4":"0"});break;case"mana":c.ex="50"===n?"4":"0";break;case"ex":c.mana="45";break;case"unbind":var i=Object(d.b)(t);c.level=Object(d.d)("".concat(i,"_").concat(p),n);break;case"bond":r=Object(d.d)("bond"),c.bond=n>r?r:n}return c}(r,c);if(null!==i){var o={statsKey:t,updates:i};if(Object.prototype.hasOwnProperty.call(S,r)){var s,m=S["".concat(r,"Id")];clearTimeout(m),m=setTimeout(function(){"level"!==r&&"bond"!==r||""!==i[r]||(i[r]=1,C(A({},S,Object(k.a)({},r,1)))),l(o)},1e3),C(A({},S,(s={},Object(k.a)(s,"".concat(r,"Id"),m),Object(k.a)(s,r,i[r]),s)))}else i.level&&C(A({},S,{level:i.level})),l(o)}};return c.a.createElement("div",{className:"stats-field",ref:d.g[t]},c.a.createElement(F,{name:f,statsKey:t,image:E,setPanel:r}),a&&("adventurer"===t?c.a.createElement("div",null,c.a.createElement(N,{label:"mana",value:b,rarity:u,onChange:P}),c.a.createElement(N,{label:"ex",value:s,onChange:P}),c.a.createElement(j.j,{label:"augHp",value:S.augHp,onChange:P}),c.a.createElement(j.j,{label:"augStr",value:S.augStr,onChange:P}),c.a.createElement(j.j,{label:"level",value:S.level,onChange:P}),c.a.createElement(N,{label:"curRarity",value:u,rarity:p,onChange:P})):c.a.createElement("div",null,c.a.createElement(j.j,{label:"level",value:S.level,onChange:P}),c.a.createElement(N,{label:"unbind",value:v,onChange:P}),c.a.createElement(j.j,{label:"augHp",value:S.augHp,onChange:P}),c.a.createElement(j.j,{label:"augStr",value:S.augStr,onChange:P}),"dragon"===t&&c.a.createElement(j.j,{label:"bond",value:S.bond,onChange:P}))))});var B=Object(l.b)(function(e){return{stats:e.stats}})(function(e){var t=e.setPanel,a=e.stats,r=c.a.useState("adventurer"),l=Object(n.a)(r,2),i=l[0],o=l[1];return c.a.useEffect(function(){var e=(a.adventurer||{}).id;o(void 0===e?"adventurer":e)},[a.adventurer]),c.a.createElement("div",{id:"col2"},s.k.map(function(e){var n=a[e],r=(n||{}).id,l=void 0===r?e:r;return c.a.createElement(L,{key:"".concat(i,"_").concat(l),statsKey:e,item:n,setPanel:t})}))}),K=["del","refresh","save"];var $={loadHalidom:g.b},V=Object(l.b)(function(e){var t=e.stats,a=t.adventurer,n=t.dragon,r=e.halidom,c=a||{};return{element:c.element,weapon:c.weapon,dragonEle:(n||{}).element,halidom:r}},$)(function(e){var t,a=e.element,n=e.weapon,r=e.dragonEle,l=e.halidom,i=e.loadHalidom;if(!a)return null;t=a===r?[a,n]:r?["adventurer_".concat(a),n,"dragon_".concat(r)]:["adventurer_".concat(a),n];var o=s.e.filter(function(e){return t.some(function(t){return e.includes(t)})});return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.h,{btns:K,onClick:function(e){switch(e.currentTarget.name){case"del":Object(d.h)("halidom");break;case"refresh":i();break;case"save":Object(d.i)("halidom",l)}}}),c.a.createElement("div",null,o.map(function(e){return c.a.createElement(j.e,{key:e,itemKey:e})})))}),q=a(152);var J={selectFilter:g.e,resetFilters:g.c},U=Object(l.b)(function(e){return{filters:e.filters}},J)(function(e){var t=e.filters,a=e.search,r=e.setSearch,l=e.resetFilters,i=e.selectFilter,o=c.a.useContext(j.b).lang,s=Object(d.l)(function(e){r(e.target.value)}),m=Object(d.l)(function(e){var t=e.target,a=t.checked,n=t.name,r=t.value;i({checked:a,name:n,value:r})});return c.a.createElement(c.a.Fragment,null,Object.entries(t).map(function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return c.a.createElement(j.a,{key:a,btns:r,name:a,onChange:m})}),c.a.createElement("div",{id:"search-bar"},c.a.createElement(q.a,{variant:"filled",value:a,label:Object(d.k)("search",o),InputProps:{spellCheck:!1},onChange:s}),c.a.createElement(u.a,{color:"secondary",variant:"contained",onClick:function(){r(""),l()}},"RESET")))}),W=a(19),X=a(157),G=a(156),Q=a(49);var Y={selectItem:g.g},Z=Object(l.b)(function(e){return{focused:e.focused}},Y)(function(e){var t=e.focused,a=e.index,n=e.style,r=e.data,l=r.cols,i=r.field,o=r.arr,u=e.selectItem,s=c.a.useContext(j.b).lang,m=o[a],b=m.name[s],f=Object(d.c)(m,i);return c.a.createElement("div",{style:n,className:"item-list"},c.a.createElement(j.i,{field:i,image:f,onClick:function(){u({statsKey:t,item:m}),Object(d.j)(d.g[t],!0)}}),c.a.createElement("span",{className:"name"},b),l.map(function(e){if("weapon"===e||"element"===e){var t="".concat(e,"_").concat(m[e]);return c.a.createElement(j.i,{key:e,size:"sm",field:"icon",image:t})}return c.a.createElement("span",{key:e},m[e])}))});var ee=Object(l.b)(function(e){return{filters:e.filters}})(function(e){var t=e.field,a=e.fields,l=e.filters,i=e.search,o=c.a.useContext(j.b).lang,u=c.a.useState("hide"),d=Object(n.a)(u,2),m=d[0],b=d[1];Object(r.useEffect)(function(){setTimeout(function(){b(null)},250)},[]);var f=c.a.useMemo(function(){var e={};return a.forEach(function(t){e[t]=Object(Q.c)({arr:l[t],name:t})}),{arr:Object.values(s.m[t]).filter(function(t){return a.every(function(a){return e[a].includes(t[a])})&&t.name[o].toUpperCase().includes(i.toUpperCase())}).sort(function(e,a){if(e.rarity>a.rarity)return-1;if(e.rarity<a.rarity)return 1;if(e.element){var n=[].concat(Object(W.a)(s.c),["None"]),r=n.indexOf(e.element),c=n.indexOf(a.element);if(r>c)return 1;if(r<c)return-1}if(e.weapon){var l=s.l.indexOf(e.weapon),i=s.l.indexOf(a.weapon);if(l>i)return 1;if(l<i)return-1}if("wyrmprint"===t){if(e.dungeon&&!a.dungeon)return-1;if(!e.dungeon&&a.dungeon)return 1;if(e.MaxAtk+e.MaxHp+e.abilities13+e.abilities23+e.abilities33>a.MaxAtk+a.MaxHp+a.abilities13+a.abilities23+a.abilities33)return-1;if(e.MaxAtk+e.MaxHp+e.abilities13+e.abilities23+e.abilities33<a.MaxAtk+a.MaxHp+a.abilities13+a.abilities23+a.abilities33)return 1}else{if(e.MaxAtk+e.MaxHp>a.MaxAtk+a.MaxHp)return-1;if(e.MaxAtk+e.MaxHp<a.MaxAtk+a.MaxHp)return 1}return e.id>a.id?1:e.id<a.id?-1:0}),cols:a,field:t}},[t,a,l,o,i]),p=c.a.useRef(null);return Object(r.useEffect)(function(){p.current&&p.current.scrollToItem(0)},[t,l]),c.a.createElement("div",{className:m},c.a.createElement(G.a,null,function(e){var t=e.height,a=e.width;return c.a.createElement(X.b,{ref:p,height:t,width:a,itemSize:80,itemCount:f.arr.length,itemData:f},Z)}))}),te={adventurer:["weapon","element","rarity"],weapon:["weapon","element","rarity"],wyrmprint:["rarity"],dragon:["element","rarity"]};var ae=Object(l.b)(function(e){var t=e.focused;return{field:Object(d.b)(t)}})(function(e){var t=e.field,a=c.a.useState(""),r=Object(n.a)(a,2),l=r[0],i=r[1];return c.a.useEffect(function(){i("")},[t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(U,{fields:te[t],search:l,setSearch:i}),c.a.createElement(ee,{field:t,fields:te[t],search:l}))}),ne=["stats","halidom"];var re=c.a.memo(function(e){var t=e.panel,a=e.setPanel;return c.a.createElement("div",{id:"col3",ref:d.g.col3},c.a.createElement(j.k,{name:"panel",checked:t,btns:ne,onChange:a}),"stats"===t?c.a.createElement(ae,null):c.a.createElement(V,null))});var ce=function(){var e=c.a.useState("stats"),t=Object(n.a)(e,2),a=t[0],r=t[1];return c.a.createElement("main",{id:"stats"},c.a.createElement(D,{setPanel:r}),c.a.createElement(B,{setPanel:r}),c.a.createElement(re,{panel:a,setPanel:r}))};t.default=ce}}]);
//# sourceMappingURL=5.e55f4778.chunk.js.map