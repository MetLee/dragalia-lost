{"version":3,"sources":["utils/calcStats.js","pages/Stats/Col1/StatsTable.jsx","pages/Stats/Col1/DamageBar.jsx","pages/Stats/Col1/Dungeon.jsx","pages/Stats/Col1/Col1.jsx","pages/Stats/Col1/index.js","pages/Stats/Col2/StatsField/SelectItem.jsx","pages/Stats/Col2/StatsField/StatsAvatar.jsx","pages/Stats/Col2/StatsField/StatsField.jsx","pages/Stats/Col2/StatsField/index.js","pages/Stats/Col2/Col2.jsx","pages/Stats/Col2/index.js","pages/Stats/Col3/PanelHalidom.jsx","pages/Stats/Col3/PanelStats/FilterStats.jsx","pages/Stats/Col3/PanelStats/ListItem.jsx","pages/Stats/Col3/PanelStats/StatsList.jsx","pages/Stats/Col3/PanelStats/PanelStats.jsx","pages/Stats/Col3/PanelStats/index.js","pages/Stats/Col3/Col3.jsx","pages/Stats/Col3/index.js","pages/Stats/Stats.jsx","pages/Stats/index.js"],"names":["calcMight","statsKey","item","a","setKey","fsKey","ex","id","mana","rarity","skillMight","MIGHT_DICT","ADVENTURER_ABILITY","reduce","acc","cur","calcAdventurerMight","w","key","unbind","skill","abilities11","abilities21","calcWeaponMight","abilities13","abilities23","abilities33","abilities12","abilities22","abilities32","abilities31","d","bondBonus","bond","itemSkill_4","itemSkill_0","calcDragonMight","calcMCBonus","i","index","indexOf","slice","calcItem","sameEle","hp","str","might","augHp","augStr","tHp","tStr","tMight","curRarity","level","Number","baseHp","baseStr","stepHp","stepStr","field","getField","MAX_LEVEL","getLimit","MaxHp","MaxAtk","MinHp","MinAtk","calcVal","bonusMight","calcHalidomValue","halidomList","halidom","length","values","HALIDOM_VALUES","type","calcDetails","stats","adventurer","details","wyrmprint1","wyrmprint2","dragon","baseMight","element","STATS_KEYS","value","augments","halidomDetails","weapon","aHalidomFilters","aHalidomList","HALIDOM_LIST","filter","k","some","f","includes","aPct","dPct","dHalidomList","aHp","aStr","dHp","dStr","calcHalidomDetails","hpPct","strPct","n","incSTR2","STRLV2","incSTR1","STRLV1","incSTR","reqEle","wHpPct","wStrPct","w1MUB","w2MUB","stage","totalHp","totalStr","totalMight","abilityHp","abilityStr","ability","total","calcDamage","w1","w2","dungeon","multiplier","arr","totalDef","def","exDef","incDef2","defLV2","push","incDef1","defLv1","incDef","wHp","wDef","wRes","wReduce","dungeonEle","dungeonInfo","incHP1","temp","resEle","totalRes","incRes","eleModifier","ELEMENTS_MODIFIER","da","ad","base","DefCoef","parseDamage","val","round","Math","abs","floor","min","max","ROWS","StatsTable","collapse","lang","React","useContext","Context","useMemo","body","clsx","footer","className","translate","map","row","defaultProps","memo","DamageBar","damageState","pct","style","background","toFixed","fontWeight","t","content","split","dungeonArr","Object","keys","settingsArr","useState","setHide","useEffect","setTimeout","setDungeon","setCollapse","setStr","setMultiplier","info","exHp","state","setState","onChange","target","name","prev","COABILITY_DICT","damageDetails","cn","options","label","checked","e","el","adornment","actionCreators","resetStats","Col1","connect","setPanel","disabled","Button","variant","onClick","SELECT_OPTIONS","mana_3","mana_4","mana_5","curRarity_3","curRarity_4","curRarity_5","rest","selectFocus","selectItem","focused","scale","image","size","tabIndex","scrollTo","refs","col3","updateItem","StatsField","nameProps","getImage","updates","limit","r","getUpdates","params","prototype","hasOwnProperty","call","timerId","clearTimeout","ref","Col2","prefix","setId","btns","loadHalidom","dragonEle","filters","halidomKey","currentTarget","removeState","saveState","itemKey","WEAPONS","ELEMENTS","selectFilter","resetFilters","fields","search","setSearch","useCallback","TextField","InputProps","spellCheck","color","data","cols","c","icon","hide","itemData","every","toUpperCase","sort","item1","item2","element1","element2","weapon1","weapon2","listRef","useRef","current","scrollToItem","height","width","itemSize","itemCount","ListItem","FIELDS","wyrmprint","PanelStats","Col3","panel","Stats"],"mappings":"qMAgGMA,EAAY,SAACC,EAAUC,GAC3B,OAAQD,GACN,IAAK,aACH,OA/EsB,SAAAE,GAAM,IAK5BC,EAcAC,EAlBIC,EAAyBH,EAAzBG,GAAIC,EAAqBJ,EAArBI,GAAIC,EAAiBL,EAAjBK,KAAMC,EAAWN,EAAXM,OAChBC,EAAaC,IAAW,mBAAD,OAAoBH,IA4BjD,OAvBEJ,EADa,MAAXK,GAAyB,cAAPF,EACd,YAAQC,GAER,eAAWA,GAWfA,GAAQ,GACVH,EAAQ,KACCG,GAAQ,KACjBH,EAAQ,MAOHK,EAlBYE,IAAmBR,GAENS,OAAO,SAACC,EAAKC,GAC3C,OAAIZ,EAAEY,GAAaD,EAAMX,EAAEY,GACpBD,GACN,IASaH,IAAW,MAAD,OAAON,KAAY,GAE7BM,IAAW,aAAD,OAAcF,EAAd,YAAwBH,IAmDvCU,CAAoBd,GAC7B,IAAK,SACH,OA7CkB,SAAAe,GAEtB,IAAMC,EAAmB,MAAbD,EAAEE,OAAiB,IAAM,IAC/BT,EAAaO,EAAEG,MAAQT,IAAW,aAAD,OAAcO,IAAS,EAE9D,OAAOD,EAAEI,YAAcJ,EAAEK,YAAcZ,EAwC5Ba,CAAgBrB,GACzB,IAAK,aACL,IAAK,aACH,MApCa,OADQe,EAqCKf,GApCxBiB,OACGF,EAAEO,YAAcP,EAAEQ,YAAcR,EAAES,YAGvCT,EAAEE,QAAU,IACPF,EAAEU,YAAcV,EAAEW,YAAcX,EAAEY,YAGpCZ,EAAEI,YAAcJ,EAAEK,YAAcL,EAAEa,YA6BvC,IAAK,SACH,OAxBkB,SAAAC,GACtB,IAAMC,EAAqB,GAATD,EAAEE,KAEpB,MAAiB,MAAbF,EAAEZ,OACGY,EAAEJ,YAAcI,EAAEH,YAAcI,EAAYrB,IAAWuB,YAGzDH,EAAEV,YAAcU,EAAET,YAAcU,EAAYrB,IAAWwB,YAiBnDC,CAAgBlC,GACzB,QACE,OAAO,EAzCc,IAAAe,GAiDrBoB,EAAc,SAAClC,EAAGmC,GACtB,IAAMpB,EAAM,CAAC,KAAM,OAAOoB,GACpBC,EAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAKC,QAAQrC,EAAEK,MAWlE,MAVkB,CAChBL,EAAE,cAAD,OAAee,EAAf,MACDf,EAAE,OAAD,OAAQe,EAAR,MACDf,EAAE,OAAD,OAAQe,EAAR,MACDf,EAAE,OAAD,OAAQe,EAAR,MACDf,EAAE,OAAD,OAAQe,EAAR,MACDf,EAAE,OAAD,OAAQe,EAAR,MACD,GAGeuB,MAAMF,GAAO1B,OAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,GAAK,IAQ1D2B,EAAW,SAACzC,EAAUC,GAA2B,IAArByC,EAAoB,wDACpD,IAAKzC,EACH,MAAO,CACL0C,GAAI,EACJC,IAAK,EACLC,MAAO,EACPC,MAAO,EACPC,OAAQ,EACRC,IAAK,EACLC,KAAM,EACNC,OAAQ,GAVwC,IAc5CC,EAAclD,EAAdkD,UACF3C,EAAyCP,EAAzCO,OAAQ4C,EAAiCnD,EAAjCmD,MAfsC,EAeLnD,EAA1B6C,aAf+B,MAevB,EAfuB,IAeL7C,EAAf8C,cAfoB,MAeX,EAfW,EAiBpDK,EAAQC,OAAOD,GACfN,EAAQO,OAAOP,GACfC,EAASM,OAAON,GAEC,eAAb/C,IAA2BQ,EAAS,GACxC,IASM8C,EACAC,EACAC,EACAC,EAZAC,EAAQC,YAAS3D,GACjB4D,EAAYC,YAAS,GAAD,OAAIH,EAAJ,YAAalD,IAEnCmC,EAAK,EACLC,EAAM,EACNQ,IAAUQ,GACZjB,EAAK1C,EAAK6D,MACVlB,EAAM3C,EAAK8D,SAOM,eAAb/D,GACFsD,EAASrD,EAAK,QAAD,OAASkD,IACtBI,EAAUtD,EAAK,SAAD,OAAUkD,IACxBK,EAAS,SACTC,EAAU,YAEVH,EAASrD,EAAK+D,MACdT,EAAUtD,EAAKgE,OACfT,EAAS,QACTC,EAAU,UAGE,IAAVL,GACFT,EAAKW,EACLV,EAAMW,IAENZ,EACEW,GAAWF,EAAQ,IAAMQ,EAAY,IAAO3D,EAAK6D,MAAQ7D,EAAKuD,IAEhEZ,EACEW,GACEH,EAAQ,IAAMQ,EAAY,IAAO3D,EAAK8D,OAAS9D,EAAKwD,MAI3C,eAAbzD,IACF2C,GAAMP,EAAYnC,EAAM,GACxB2C,GAAOR,EAAYnC,EAAM,IAG3B0C,EAAKuB,YAAQvB,GACbC,EAAMsB,YAAQtB,GAEVF,IAIFC,EAAKuB,YAAa,IAALvB,EAAmB,GAARG,GACxBF,EAAMsB,YAAc,IAANtB,EAAqB,GAATG,IAG5B,IAAMC,EAAML,EAAKG,EACXG,EAAOL,EAAMG,EAEboB,EAAapE,EAAUC,EAAUC,GACjC4C,EAAQF,EAAKC,EAAMuB,EACnBjB,EAASF,EAAMC,EAAOkB,EAE5B,MAAO,CACLxB,KACAC,MACAC,QACAC,QACAC,SACAC,MACAC,OACAC,WAQEkB,EAAmB,SAACC,EAAaC,GAIrC,IAHA,IAAI3B,EAAK,EACLC,EAAM,EAEDP,EAAI,EAAGA,EAAIgC,EAAYE,OAAQlC,GAAK,EAAG,CAC9C,IACepC,EAASqE,EADZD,EAAYhC,IAExB,GAAIpC,EAAM,CACR,IAAMuE,EAASC,IAAexE,EAAKyE,MAAMzE,EAAKmD,OAC9CT,GAAM6B,EAAO,GACb5B,GAAO4B,EAAO,IAIlB,MAAO,CAAE7B,KAAIC,QA2CF+B,EAAc,SAACC,EAAON,GACjC,IAAKM,EAAMC,WAAY,OAAO,KAY9B,IAXA,IAAMC,EAAU,GAERD,EAA+CD,EAA/CC,WAAYE,EAAmCH,EAAnCG,WAAYC,EAAuBJ,EAAvBI,WAAYC,EAAWL,EAAXK,OAExC3B,EAAS,EACTC,EAAU,EACV2B,EAAY,EACZpC,EAAQ,EACRC,EAAS,EAELoC,EAAYN,EAAZM,QACC9C,EAAI,EAAGA,EAAI+C,IAAWb,OAAQlC,GAAK,EAAG,CAC7C,IAAMpB,EAAMmE,IAAW/C,GACjBpC,EAAO2E,EAAM3D,GACbyB,GACK,WAARzB,GAA4B,WAARA,IACrBhB,GACAkF,IAAYlF,EAAKkF,QAEbE,EAAQ5C,EAASxB,EAAKhB,EAAMyC,GAClCY,GAAU+B,EAAMrC,IAChBO,GAAW8B,EAAMpC,KACjBiC,GAAaG,EAAMnC,OACnBJ,GAASuC,EAAMvC,MACfC,GAAUsC,EAAMtC,OAEhB+B,EAAQ7D,GAAOoE,EAGjBP,EAAQQ,SAAW,CACjB3C,GAAIG,EACJF,IAAKG,EACLF,MAAOC,EAAQC,GAIjB,IAAMwC,EAvEmB,SAACT,EAAD,EAAkCR,GAAa,IAAnCO,EAAkC,EAAlCA,WAAYI,EAAsB,EAAtBA,OACzCE,EAAoBN,EAApBM,QAASK,EAAWX,EAAXW,OACXC,EAAkB,CAAC,cAAD,OAAeN,GAAWK,GAC5CE,EAAeC,IAAaC,OAAO,SAAAC,GAAC,OACxCJ,EAAgBK,KAAK,SAAAC,GAAC,OAAIF,EAAEG,SAASD,OAEjCE,EAAO7B,EAAiBsB,EAAcpB,GAExC4B,EAAO,CAAEvD,GAAI,EAAGC,IAAK,GACzB,GAAIqC,EAAQ,CACV,IAAMkB,EAAeR,IAAaC,OAAO,SAAAC,GAAC,OACxCA,EAAEG,SAAF,iBAAqBf,EAAOE,YAG9Be,EAAO9B,EAAiB+B,EAAc7B,GAGxC,IAAM8B,EAAMtB,EAAQD,WAAW7B,IAAMiD,EAAKtD,GAAK,IACzC0D,EAAOvB,EAAQD,WAAW5B,KAAOgD,EAAKrD,IAAM,IAC5C0D,EAAMxB,EAAQG,OAAOjC,IAAMkD,EAAKvD,GAAK,IACrC4D,EAAOzB,EAAQG,OAAOhC,KAAOiD,EAAKtD,IAAM,IAExCD,EAAKuB,YAAQkC,GAAOlC,YAAQoC,GAC5B1D,EAAMsB,YAAQmC,GAAQnC,YAAQqC,GAGpC,MAAO,CACL5D,KACAC,MACAC,MALYF,EAAKC,GA+CI4D,CAAmB1B,EAASF,EAAON,GAC1DQ,EAAQR,QAAUiB,EAGlB,IAAIkB,EAAQ,EACRC,EAAS,EACb,GAAIzB,GACEE,IAAYF,EAAOE,QAAS,CAC9B,IAAMwB,EAAsB,MAAlB1B,EAAO/D,OAAiB,IAAM,IACxCuF,EAAQxB,EAAO,QAAD,OAAS0B,IACvBD,EAASzB,EAAO,SAAD,OAAU0B,IAQzB9B,EAAW+B,SAAW/B,EAAWtE,MAAQsE,EAAWgC,OACtDH,GAAU7B,EAAW+B,QACZ/B,EAAWiC,SAAWjC,EAAWtE,MAAQsE,EAAWkC,SAC7DL,GAAU7B,EAAWiC,SAKrBlC,EAAMY,QACNZ,EAAMY,OAAOwB,QACb7B,EAAQa,SAASpB,EAAMY,OAAOyB,UAE9BP,GAAU9B,EAAMY,OAAOwB,QAMzB,IAAIE,EAAS,EACTC,EAAU,EACVC,GAAQ,EACRC,GAAQ,EAEZ,GAAItC,EAAY,CAAC,IACP7D,EAAW6D,EAAX7D,OACJoG,EAAQ,EACG,MAAXpG,GACFoG,EAAQ,EACRF,GAAQ,GACClG,GAAU,MACnBoG,EAAQ,GAGVJ,GAAUnC,EAAW,QAAD,OAASuC,KAAY,EACzCH,GAAWpC,EAAW,SAAD,OAAUuC,KAAY,EAG7C,GAAItC,EAAY,CAAC,IACP9D,EAAW8D,EAAX9D,OACJoG,EAAQ,EACG,MAAXpG,GACFoG,EAAQ,EACRD,GAAQ,GACCnG,GAAU,MACnBoG,EAAQ,GAGVJ,GAAUlC,EAAW,QAAD,OAASsC,KAAY,EACzCH,GAAWnC,EAAW,SAAD,OAAUsC,KAAY,EAGzCJ,EAtYmB,IAuYrBA,EAvYqB,KA0YnBC,EAzYoB,KAyYaC,GAASC,IAC5CF,EA1YsB,IA6YxBV,GAASS,EACTR,GAAUS,EAEV,IAAII,EAAUjE,EAASiC,EAAe5C,GAClC6E,EAAWjE,EAAUgC,EAAe3C,IAClC6E,EAAavC,EAAYK,EAAe1C,MAExC6E,EAAYH,EAAUd,EAAQ,IAC9BkB,EAAaH,EAAWd,EAAS,IAgBvC,OAfA5B,EAAQ8C,QAAU,CAChBjF,GAAIuB,YAAQwD,GACZ9E,IAAKsB,YAAQyD,GACb9E,MAAO,GAGT0E,GAAWG,EACXF,GAAYG,EAEZ7C,EAAQ+C,MAAQ,CACdlF,GAAI4E,EACJ3E,IAAK4E,EACL3E,MAAO4E,GAGF3C,GAQIgD,EAAa,SAAC,EAAD,GAGpB,IAFU5H,EAEX,EAFD2E,WAAuB7D,EAEtB,EAFcwE,OAAuBuC,EAErC,EAFyBhD,WAA4BiD,EAErD,EAFyChD,WAAgBC,EAEzD,EAFyDA,OAC1DgD,EACC,EADDA,QAASrF,EACR,EADQA,IAAKsF,EACb,EADaA,WAEVC,EAAM,GACRC,EAAW,EAFZ,EADyBC,IAGH,EAFtB,EAD8BC,MAI7BpI,EAAEqI,SAAWrI,EAAEK,MAAQL,EAAEsI,QAC3BJ,GAAYlI,EAAEqI,QACdJ,EAAIM,KAAJ,yBAA2BvI,EAAEqI,WACpBrI,EAAEwI,SAAWxI,EAAEK,MAAQL,EAAEyI,SAClCP,GAAYlI,EAAEwI,QACdP,EAAIM,KAAJ,yBAA2BvI,EAAEwI,WAI3B1H,GAAKA,EAAE4H,QAAU1I,EAAEiF,QAAQa,SAAShF,EAAEiG,UACxCmB,GAAYpH,EAAE4H,OACdT,EAAIM,KAAJ,qBAAuBzH,EAAE4H,UAI3B,IAAIC,EAAM,EACNC,EAAO,EACPC,EAAO,EACPC,EAAU,EACRC,EAAaC,IAAYjB,GAAS9C,QACxC,GAAI4C,EAAI,CACN,IAAIT,EAAQ,EAOZ,GANkB,MAAdS,EAAG7G,OACLoG,EAAQ,EACCS,EAAG7G,QAAU,MACtBoG,EAAQ,GAGNS,EAAGoB,OAAQ,CACb,IAAMC,EAAOrB,EAAG,QAAD,OAAST,IACxBuB,GAAOO,EACPjB,EAAIM,KAAJ,wBAA0BW,IAG5B,GAAIrB,EAAGW,QAAS,CACd,IAAMU,EAAOrB,EAAG,SAAD,OAAUT,IACzBwB,GAAQM,EACRjB,EAAIM,KAAJ,yBAA2BW,IAG7B,GAAIrB,EAAGE,UAAYA,EAAS,CAC1B,IAAMmB,EAAOrB,EAAG,SAAD,OAAUT,IACzB0B,GAAWI,EACXjB,EAAIM,KAAJ,4BAA8BW,IAGhC,GAAIrB,EAAGsB,SAAWJ,EAAY,CAC5B,IAAMG,EAAOrB,EAAG,SAAD,OAAUT,IACzByB,GAAQK,EACRjB,EAAIM,KAAJ,yBAA2BW,KAI/B,GAAIpB,EAAI,CACN,IAAIV,EAAQ,EAOZ,GANkB,MAAdU,EAAG9G,OACLoG,EAAQ,EACCU,EAAG9G,QAAU,MACtBoG,EAAQ,GAGNU,EAAGmB,OAAQ,CACb,IAAMC,EAAOrB,EAAG,QAAD,OAAST,KACxBuB,GAAOO,GAnfY,EAsfjBjB,EAAIM,KAAJ,wBAA0BW,EAA1B,eAtfiB,EAsfuCP,EAAMO,IAE9DjB,EAAIM,KAAJ,wBAA0BW,IAI9B,GAAIpB,EAAGU,QAAS,CACd,IAAMU,EAAOpB,EAAG,SAAD,OAAUV,KACzBwB,GAAQM,GA5fY,IA+flBjB,EAAIM,KAAJ,yBACoBW,EADpB,eA/fkB,GAggBiCN,EAAOM,IAE1DN,EAlgBkB,IAogBlBX,EAAIM,KAAJ,yBAA2BW,IAI/B,GAAIpB,EAAGC,UAAYA,EAAS,CAC1B,IAAMmB,EAAOpB,EAAG,SAAD,OAAUV,KACzB0B,GAAWI,GAxgBY,GA2gBrBjB,EAAIM,KAAJ,4BACuBW,EADvB,eA3gBqB,GA6gBjBJ,EACAI,IAGJjB,EAAIM,KAAJ,4BAA8BW,IAIlC,GAAIpB,EAAGqB,SAAWJ,EAAY,CAC5B,IAAMG,EAAOpB,EAAG,SAAD,OAAUV,KACzByB,GAAQK,GAxhBY,GA2hBlBjB,EAAIM,KAAJ,yBACoBW,EADpB,eA3hBkB,GA4hBiCL,EAAOK,IAG1DjB,EAAIM,KAAJ,yBAA2BW,KAKjC,IAAIE,EAAWP,EAGf,IAFmB9D,GAAU,IAArBoE,SAEOJ,EAAY,CAAC,IAClBM,EAAWtE,EAAXsE,OACRD,GAAYC,EACZpB,EAAIM,KAAJ,qBAAuBc,IAGzB,IAAIC,EAAc,EACdtJ,EAAEiF,UAAYsE,IAAkBR,GAAYS,GAC9CF,EAAc,GACLtJ,EAAEiF,UAAYsE,IAAkBR,GAAYU,KACrDH,EAAc,KAGhB,IAAMI,EACF,EAAI,EACJhH,EACAsF,EACAsB,GACC,EAAc,IAAVR,IACJ,EAAe,IAAXM,IACNpJ,EAAE2J,SAAW,EAAe,IAAXzB,IAEd0B,EAAc,SAAAC,GAClB,IACMC,EAAQC,KAAKD,MAAMD,GACzB,OAAIE,KAAKC,IAAIH,EAAMC,GAFD,KAGTA,EAGFC,KAAKE,MAAMJ,IAMpB,MAAO,CAAEK,IAHGN,EAAmB,IAAPF,GAGVS,IAFFP,EAAmB,KAAPF,GAELzB,Q,eCnlBfmC,EAAO,CACX,aACA,SACA,aACA,aACA,SACA,WACA,UACA,WAOF,SAASC,EAAT,GAA4C,IAAtBC,EAAqB,EAArBA,SAAU1F,EAAW,EAAXA,QACtB2F,EAASC,IAAMC,WAAWC,KAA1BH,KADiC,EAGhBI,kBACvB,iBAAO,CACLC,KAAMC,YAAK,OAAQ,CAAEP,aACrBQ,OAAQD,YAAK,SAAU,CAAEP,eAE3B,CAACA,IALKM,EAHiC,EAGjCA,KAAME,EAH2B,EAG3BA,OAQd,OAAKlG,EAGH,yBAAKxE,GAAG,eACN,yBAAK2K,UAAU,UACb,+BACA,oCACA,8BAAOC,YAAU,MAAOT,IACxB,8BAAOS,YAAU,QAAST,KAG5B,yBAAKQ,UAAWH,GACbR,EAAKa,IAAI,SAAAC,GAAQ,IAAD,EACYtG,EAAQsG,GAA3BzI,EADO,EACPA,GAAIC,EADG,EACHA,IAAKC,EADF,EACEA,MACjB,OACE,kBAAC,WAAD,CAAU5B,IAAKmK,GACb,8BAAOF,YAAUE,EAAKX,IACtB,8BAAO9H,GACP,8BAAOC,GACP,8BAAOC,OAMf,yBAAKoI,UAAWD,GACd,8BAAOE,YAAU,QAAST,IAC1B,8BAAOvG,YAAQY,EAAQ+C,MAAMlF,KAC7B,8BAAOuB,YAAQY,EAAQ+C,MAAMjF,MAC7B,8BAAOkC,EAAQ+C,MAAMhF,SA7BN,KAmCvB0H,EAAWc,aAlDU,CACnBb,UAAU,GAmDGE,UAAMY,KAAKf,G,OCzD1B,SAASgB,EAAT,GAA4D,IAAD,IAAtCC,YAAerD,EAAuB,EAAvBA,IAAKxF,EAAkB,EAAlBA,GAAI0H,EAAc,EAAdA,IAAKD,EAAS,EAATA,IACxCK,EAASC,IAAMC,WAAWC,KAA1BH,KAEFgB,EAAMf,IAAMG,QAAQ,WACxB,OAAIlI,EAAK0H,EAAY,IAEjB1H,GAAMyH,EAAY,EAEd,KAAOzH,EAAK,EAAIyH,IAASC,EAAMD,IACtC,CAACzH,EAAIyH,EAAKC,IAEb,OACE,oCACE,yBACE/J,GAAG,aACHoL,MAAO,CACLC,WAAW,0CAAD,OAA4CF,EAA5C,sBAA6DA,EACrE,EADQ,2BAHd,UAOMA,EAAIG,QAAQ,GAPlB,MAUA,+BACE,+BACE,wBAAIF,MAAO,CAAEG,WAAY,SACvB,mCACA,mCACA,oCAGF,4BACE,4BAAKlJ,GACL,4BAAKyH,GACL,4BAAKC,IAGNlC,EAAIgD,IAAI,SAAAW,GACP,IAAMC,EAAUD,EAAEE,MAAM,KACxB,OACE,wBAAI/K,IAAG,UAAK8K,EAAQ,GAAb,YAAmBA,EAAQ,KAChC,4BAAKb,YAAUa,EAAQ,GAAItB,IAC3B,4BAAKS,YAAUa,EAAQ,GAAItB,IAC3B,4BAAKS,YAAUa,EAAQ,GAAItB,UAU3Cc,EAAUF,aA5DW,CACnBlD,IAAK,GACLxF,GAAI,EACJ0H,IAAK,EACLD,IAAK,GA0DQM,UAAMY,KAAKC,G,mjBCzD1B,IAAMU,EAAaC,OAAOC,KAAKjD,KACzBkD,EAAc,CAAC,OAAQ,QAAS,KAAM,OA8H7B1B,UAAMY,KA5HrB,YAAsC,IAAnB1G,EAAkB,EAAlBA,MAAO2C,EAAW,EAAXA,QAAW,EACX8E,mBAAS,QADE,mBACtBC,GADsB,WAEnCC,oBAAU,WACRC,WAAW,WACTF,EAAQ,OACP,MACF,IANgC,MAQLD,mBAAS,OARJ,mBAQ5BpE,EAR4B,KAQnBwE,EARmB,OASHJ,oBAAS,GATN,mBAS5B7B,EAT4B,KASlBkC,EATkB,OAUbL,mBAAS,IAVI,mBAU5BzJ,EAV4B,KAUvB+J,EAVuB,OAWCN,mBAAS,IAXV,mBAW5BnE,EAX4B,KAWhB0E,EAXgB,KAanCL,oBAAU,WACR,IAAMM,EAAO3D,IAAYjB,GACzB0E,EAAOE,EAAKjK,KACZgK,EAAcC,EAAK3E,aAClB,CAACD,IAEJ,IAnBmC,EA+BToE,mBAAS,CACjCS,KAAM,GACNxE,MAAO,GACP3F,GAAI,GACJ0F,IAAK,KAnC4B,mBA+B5B0E,EA/B4B,KA+BrBC,EA/BqB,KAsC7BC,EAAW,SAAC,GAAiC,IAAD,IAA9BC,OAAUC,EAAoB,EAApBA,KAAM9H,EAAc,EAAdA,MAClC2H,EAAS,SAAAI,GAAI,YAAUA,EAAV,eAAiBD,EAAO9H,OAGvCkH,oBAAU,WACR,GAAK3H,EAAMC,WAAX,CADc,MAGiBD,EAAMC,WAA7BxE,EAHM,EAGNA,GAAIG,EAHE,EAGFA,OAAQgF,EAHN,EAGMA,OAEpB,GAAe,QAAXA,GAA+B,UAAXA,EAAoB,CAC1C,IAAIvE,EACW,QAAXuE,EACFvE,EAAM,QACc,UAAXuE,IACTvE,EAAM,QAGR,IAAMmI,EAAOiE,IAAe,GAAD,OAAI7H,EAAJ,YAAchF,IAAUH,GACnD,GAAI+I,IAAS2D,EAAM9L,GAAM,OAEzB+L,EAAS,SAAAI,GAAI,YACRA,EADQ,eAEVnM,EAAMmI,SAIV,CAACxE,EAAMC,aAEV,IAAM2G,EAAcd,IAAMG,QAAQ,WAAO,IAC/BiC,EAAqBC,EAArBD,KAAMxE,EAAeyE,EAAfzE,MAAOD,EAAQ0E,EAAR1E,IACfiF,EAAgBxF,EAAWlD,EAAO,CACtCqD,UACArF,MACAsF,aACAG,MACAC,UAKF,OAAO,EAAP,CAAS3F,GAFEuB,YAAQqD,GAAW,EAAI,IAAOwF,EAAMpK,KAAO,EAAI,IAAOmK,KAEjDQ,IACf,CAAC1I,EAAO2C,EAASU,EAASrF,EAAKsF,EAAY6E,IAExCQ,EAAKxC,YAAK,QAAS,oBAAqB,CAAEP,UAAWA,IAE3D,OACE,oCACE,yBAAKS,UAAU,SACb,kBAAC,IAAD,CACEuC,QAASvB,EACTwB,MAAM,UACNpI,MAAO4C,EACPgF,SAvEc,SAAC,GAA2B,IAAf5H,EAAc,EAAxB6H,OAAU7H,MACjCoH,EAAWpH,MAyEP,kBAAC,IAAD,CAAUqI,QAASlD,EAAUiD,MAAM,UAAUR,SAAUP,KAGzD,yBAAKzB,UAAWsC,GACd,kBAAC,IAAD,CAAOE,MAAM,MAAMpI,MAAOzC,EAAKqK,SA1EnB,SAAAU,GAChBhB,EAAOgB,EAAET,OAAO7H,UA2EZ,kBAAC,IAAD,CACEoI,MAAM,aACNpI,MAAO6C,EACPxD,KAAK,QACLuI,SA5EiB,SAAAU,GACvBf,EAAce,EAAET,OAAO7H,WA+ErB,yBAAK4F,UAAU,SACZmB,EAAYjB,IAAI,SAAAyC,GAAE,OACjB,kBAAC,IAAD,CACE3M,IAAK2M,EACLC,UAAU,IACVJ,MAAOG,EACPvI,MAAO0H,EAAMa,GACbX,SAAUA,OAKhB,kBAAC,EAAD,CAAWzB,YAAaA,OCrF9B,IAIMsC,EAAiB,CACrBC,gBCjDaC,EDoDAC,YARS,SAAC,GACvB,MAAO,CAAErJ,MADqC,EAArBA,MACTN,QAD8B,EAAdA,UAUhCwJ,EAFaG,CA1Cf,YAAyD,IAAzCrJ,EAAwC,EAAxCA,MAAON,EAAiC,EAAjCA,QAAS4J,EAAwB,EAAxBA,SAAUH,EAAc,EAAdA,WAAc,EACtBrD,IAAM2B,UAAS,GADO,mBAC/C7B,EAD+C,KACrCkC,EADqC,KAQhD5H,EAAU4F,IAAMG,QAAQ,kBAAMlG,EAAYC,EAAON,IAAU,CAC/DM,EACAN,IAGF,OACE,yBAAKhE,GAAG,QACN,yBAAK2K,UAAU,SACb,kBAAC,IAAD,CACEyC,QAASlD,EACT2D,UAAWrJ,EACX2I,MAAM,QACNR,SAAUP,IAEZ,kBAAC0B,EAAA,EAAD,CAAQC,QAAQ,WAAWC,QAnBb,WAClBJ,EAAS,SACTH,MAiBI,UAIF,kBAAC,EAAD,CAAYjJ,QAASA,EAAS0F,SAAUA,IACvC5F,EAAMC,YAAc2F,GACnB,kBAAC,EAAD,CAAS5F,MAAOA,EAAO2C,QAASzC,EAAQ+C,MAAMlF,QErChD4L,EAAiB,CACrBC,OAAQ,CAAC,KAAM,KAAM,KAAM,KAC3BC,OAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KACjCC,OAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAC7CC,YAAa,CAAC,IAAK,IAAK,KACxBC,YAAa,CAAC,IAAK,KACnBC,YAAa,CAAC,KACdC,KAAM,CAAC,IAAK,IAAK,IAAK,IAAK,MA2BdpE,UAAMY,KAxBrB,YAAmE,IAA7CmC,EAA4C,EAA5CA,MAAOpI,EAAqC,EAArCA,MAAO7E,EAA8B,EAA9BA,OAAQ2N,EAAsB,EAAtBA,SAAUlB,EAAY,EAAZA,SAC9CO,EAAU9C,IAAMG,QAAQ,WAC5B,MAAc,cAAV4C,GAAmC,SAAVA,EACpBc,EAAe,GAAD,OAAId,EAAJ,YAAajN,IAGtB,OAAViN,GAA4B,WAAVA,EACbc,EAAeO,KAGjB,IACN,CAACrB,EAAOjN,IAEX,OACE,kBAAC,IAAD,CACEiN,MAAOA,EACPpI,MAAOA,EACPmI,QAASA,EACTW,SAAUA,EACVlB,SAAUA,MCgBhB,IAIMa,EAAiB,CACrBiB,gBACAC,gBAGaf,cATS,SAAC,EAAD,GAAuC,IAApCgB,EAAmC,EAAnCA,QAASrK,EAA0B,EAA1BA,MAAW5E,EAAe,EAAfA,SAC7C,MAAO,CAAEkP,MAAOD,IAAYjP,IAAa4E,EAAM5E,KAU/C8N,EAFaG,CAjDf,YAQI,IAPFkB,EAOC,EAPDA,MACAhC,EAMC,EANDA,KACA+B,EAKC,EALDA,MACAlP,EAIC,EAJDA,SACAkO,EAGC,EAHDA,SACAa,EAEC,EAFDA,YACAC,EACC,EADDA,WAEQvE,EAASC,IAAMC,WAAWC,KAA1BH,KACF/G,EAAQC,YAAS3D,GAEjByN,EAAQN,EAAOA,EAAK1C,GAAQS,YAAUlL,EAAUyK,GAEhD8C,EAAKxC,YAAK,KAAM,CAAEmE,UAYxB,OACE,6BACE,kBAAC,IAAD,CACExL,MAAOA,EACPyL,MAAOA,EACPC,KAAM7B,EACN8B,SAAS,KACTf,QAjBU,WACTY,GACHF,EAAWhP,GAGbkO,EAAS,SACTa,EAAY/O,GACZsP,YAASC,IAAKC,SAYZ,6BAAM/B,M,mjBCkHZ,IAAMK,EAAiB,CACrB2B,gBC5JaC,ED+JAzB,YACb,KACAH,EAFaG,CAxJf,YAA+D,IAAzCjO,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,KAAMiO,EAAwB,EAAxBA,SAAUuB,EAAc,EAAdA,WAAc,EAYxDxP,GAAQ,GAVV+B,EAF0D,EAE1DA,KACAmB,EAH0D,EAG1DA,UACA9C,EAJ0D,EAI1DA,GACA+C,EAL0D,EAK1DA,MACA7C,EAN0D,EAM1DA,KACMoP,EAPoD,EAO1DxC,KACA3M,EAR0D,EAQ1DA,OACAU,EAT0D,EAS1DA,OAT0D,IAU1D4B,aAV0D,MAUlD,GAVkD,MAW1DC,cAX0D,MAWjD,GAXiD,EActDoM,EAAQS,YAAS3P,EAAMD,GAd+B,EAgBlC0K,IAAM2B,SAAS,CACvCrK,OACAoB,QACAN,QACAC,WApB0D,mBAgBrDgK,EAhBqD,KAgB9CC,EAhB8C,KAyEtDC,EAAW,SAAC,GAAiC,IAAD,IAA9BC,OAAUC,EAAoB,EAApBA,KAAM9H,EAAc,EAAdA,MAC5BwK,EAnDW,SAAC5O,EAAKoE,GACvB,GAAI0H,EAAM9L,IAAQoE,IAAU0H,EAAM9L,GAAM,OAAO,KAC/C,IAAK8L,EAAM9L,IAAQoE,IAAUpF,EAAKgB,GAAM,OAAO,KAE/C,IACI6O,EADAD,EAAO,eAAM5O,EAAMoE,GAEvB,OAAQpE,GACN,IAAK,QACL,IAAK,SACH6O,EAAQjM,YAAS,YACjBgM,EAAQ5O,GAAOoE,EAAQyK,EAAQA,EAAQzK,EACvC,MAEF,IAAK,QACH,IAAM0K,EAAiB,eAAb/P,EAA4BmD,EAAY3C,EAClDsP,EAAQjM,YAAS,cAAD,OAAekM,GAAK7O,GACpC2O,EAAQzM,MAAQiC,EAAQyK,EAAQA,EAAQzK,EACxC,MAEF,IAAK,YACHwK,EAAO,KACFA,EADE,CAELzM,MAAOS,YAAS,cAAD,OAAewB,IAC9B9E,KAAMsD,YAAS,OAAD,OAAQwB,IACtBhF,GAAc,MAAVgF,EAAgB,IAAM,MAE5B,MACF,IAAK,OACHwK,EAAQxP,GAAe,OAAVgF,EAAiB,IAAM,IACpC,MACF,IAAK,KACHwK,EAAQtP,KAAO,KACf,MACF,IAAK,SACH,IAAMmD,EAAQC,YAAS3D,GACvB6P,EAAQzM,MAAQS,YAAS,GAAD,OAAIH,EAAJ,YAAalD,GAAU6E,GAC/C,MAEF,IAAK,OACHyK,EAAQjM,YAAS,QACjBgM,EAAQ7N,KAAOqD,EAAQyK,EAAQA,EAAQzK,EAO3C,OAAOwK,EAISG,CAAW7C,EAAM9H,GACjC,GAAgB,OAAZwK,EAAJ,CAEA,IAAMI,EAAS,CAAEjQ,WAAU6P,WAC3B,GAAI3D,OAAOgE,UAAUC,eAAeC,KAAKrD,EAAOI,GAAO,CAAC,IAAD,EAChCkD,EAAYtD,EADoB,UAC3CI,EAD2C,OAErDmD,aAAaD,GACbA,EAAU7D,WAAW,WAEL,UAATW,GAA6B,SAATA,GAAsC,KAAlB0C,EAAQ1C,KACnD0C,EAAQ1C,GAAQ,EAChBH,EAAS,KAAKD,EAAN,eAAcI,EAAO,MAG/BsC,EAAWQ,IACV,KAEHjD,EAAS,KACJD,GADG,6BAEFI,EAFE,MAESkD,GAFT,cAGLlD,EAAO0C,EAAQ1C,IAHV,UAMJ0C,EAAQzM,OACV4J,EAAS,KAAKD,EAAN,CAAa3J,MAAOyM,EAAQzM,SAGtCqM,EAAWQ,KAIf,OACE,yBAAKhF,UAAU,cAAcsF,IAAKhB,IAAKvP,IACrC,kBAAC,EAAD,CACEmN,KAAMwC,EACN3P,SAAUA,EACVmP,MAAOA,EACPjB,SAAUA,IAEXjO,IACe,eAAbD,EACC,6BACE,kBAAC,EAAD,CACEyN,MAAM,OACNpI,MAAO9E,EACPC,OAAQ2C,EACR8J,SAAUA,IAEZ,kBAAC,EAAD,CAAYQ,MAAM,KAAKpI,MAAOhF,EAAI4M,SAAUA,IAC5C,kBAAC,IAAD,CAAOQ,MAAM,QAAQpI,MAAO0H,EAAMjK,MAAOmK,SAAUA,IACnD,kBAAC,IAAD,CAAOQ,MAAM,SAASpI,MAAO0H,EAAMhK,OAAQkK,SAAUA,IACrD,kBAAC,IAAD,CAAOQ,MAAM,QAAQpI,MAAO0H,EAAM3J,MAAO6J,SAAUA,IACnD,kBAAC,EAAD,CACEQ,MAAM,YACNpI,MAAOlC,EACP3C,OAAQA,EACRyM,SAAUA,KAId,6BACE,kBAAC,IAAD,CAAOQ,MAAM,QAAQpI,MAAO0H,EAAM3J,MAAO6J,SAAUA,IACnD,kBAAC,EAAD,CAAYQ,MAAM,SAASpI,MAAOnE,EAAQ+L,SAAUA,IACpD,kBAAC,IAAD,CAAOQ,MAAM,QAAQpI,MAAO0H,EAAMjK,MAAOmK,SAAUA,IACnD,kBAAC,IAAD,CAAOQ,MAAM,SAASpI,MAAO0H,EAAMhK,OAAQkK,SAAUA,IACvC,WAAbjN,GACC,kBAAC,IAAD,CAAOyN,MAAM,OAAOpI,MAAO0H,EAAM/K,KAAMiL,SAAUA,SErH/D,IC9BeuD,EDkCAvC,YAJS,SAAC,GACvB,MAAO,CAAErJ,MAD4B,EAAZA,QAIZqJ,CA/Bf,YAAoC,IAApBC,EAAmB,EAAnBA,SAAUtJ,EAAS,EAATA,MAAS,EACT8F,IAAM2B,SAAS,cADN,mBAC1BoE,EAD0B,KAClBC,EADkB,KAQjC,OALAhG,IAAM6B,UAAU,WAAO,IAAD,GACU3H,EAAMC,YAAc,IAA1CvE,GACRoQ,OAFoB,MACP,aADO,IAGnB,CAAC9L,EAAMC,aAGR,yBAAKvE,GAAG,QACL8E,IAAW+F,IAAI,SAAAtF,GACd,IAAM5F,EAAO2E,EAAMiB,GADA,GAEA5F,GAAQ,IAAnBK,UAFW,MAENuF,EAFM,EAInB,OACE,kBAAC,EAAD,CACE5E,IAAG,UAAKwP,EAAL,YAAenQ,GAClBN,SAAU6F,EACV5F,KAAMA,EACNiO,SAAUA,SEjBhByC,EAAO,CAAC,MAAO,UAAW,QAmDhC,IAMM7C,EAAiB,CACrB8C,iBAGa3C,cAVS,SAAC,GAAgD,IAAD,IAA7CrJ,MAASC,EAAoC,EAApCA,WAAYI,EAAwB,EAAxBA,OAAUX,EAAc,EAAdA,QAAc,EAC1CO,GAAc,GAE1C,MAAO,CAAEM,QAH6D,EAC9DA,QAEUK,OAHoD,EACrDA,OAESqL,WADK5L,GAAU,IAAjCE,QAC6Bb,YASrCwJ,EAFaG,CA1Df,YAA6E,IAsBvE6C,EAtBkB3L,EAAoD,EAApDA,QAASK,EAA2C,EAA3CA,OAAQqL,EAAmC,EAAnCA,UAAWvM,EAAwB,EAAxBA,QAASsM,EAAe,EAAfA,YAoB3D,IAAKzL,EAAS,OAAO,KAKnB2L,EADE3L,IAAY0L,EACJ,CAAC1L,EAASK,GACVqL,EAGA,CAAC,cAAD,OAAe1L,GAAWK,EAA1B,iBAA4CqL,IAF5C,CAAC,cAAD,OAAe1L,GAAWK,GAKtC,IAAMnB,EAAcsB,IAAaC,OAAO,SAAAmL,GAAU,OAChDD,EAAQhL,KAAK,SAAAC,GAAC,OAAIgL,EAAW/K,SAASD,OAGxC,OACE,oCACE,kBAAC,IAAD,CAAU4K,KAAMA,EAAMrC,QArCV,SAAAX,GACd,OAAQA,EAAEqD,cAAc7D,MACtB,IAAK,MACH8D,YAAY,WACZ,MAEF,IAAK,UACHL,IACA,MAEF,IAAK,OACHM,YAAU,UAAW5M,OA2BvB,6BACGD,EAAY8G,IAAI,SAAAtF,GAAC,OAChB,kBAAC,IAAD,CAAa5E,IAAK4E,EAAGsL,QAAStL,U,iBC1ClC2H,EAAU,CACdhI,OAAO,CAAE,IAAH,mBAAU4L,MAChBjM,QAAQ,CAAE,IAAH,mBAAUkM,MACjB7Q,OAAQ,CAAC,GAAI,IAAK,IAAK,KACvBkE,KAAM,CAAC,GAAI,OAAQ,OAAQ,YAwD7B,IAIMoJ,EAAiB,CACrBwD,iBACAC,kBAGatD,cATS,SAAC,GACvB,MAAO,CAAE6C,QAD8B,EAAdA,UAWzBhD,EAFaG,CA9Df,YAOI,IANFuD,EAMC,EANDA,OACAV,EAKC,EALDA,QACAW,EAIC,EAJDA,OACAC,EAGC,EAHDA,UACAH,EAEC,EAFDA,aACAD,EACC,EADDA,aAEQ7G,EAASC,IAAMC,WAAWC,KAA1BH,KAEFwC,EAAWvC,IAAMiH,YACrB,SAAAhE,GACE2D,EAAa3D,EAAET,SAEjB,CAACoE,IAYH,OACE,yBAAKhR,GAAG,gBACLkR,EAAOrG,IAAI,SAAApF,GAAC,OACX,kBAAC,IAAD,CACE9E,IAAK8E,EACL0H,MAAO1H,EACPV,MAAOyL,EAAQ/K,GACfyH,QAASA,EAAQzH,GACjBkH,SAAUA,MAId,kBAAC2E,EAAA,EAAD,CACEvD,QAAQ,SACRhJ,MAAOoM,EACPhE,MAAOvC,YAAU,SAAUT,GAC3BoH,WAAY,CAAEC,YAAY,GAC1B7E,SA1Be,SAAAU,GACnB+D,EAAU/D,EAAET,OAAO7H,UA4BjB,kBAAC+I,EAAA,EAAD,CAAQ2D,MAAM,YAAY1D,QAAQ,YAAYC,QAzBlC,WACdoD,EAAU,IACVH,MAuBE,Y,kBCrBN,IAIMzD,EAAiB,CACrBkB,gBAGaf,cARS,SAAC,GACvB,MAAO,CAAEgB,QAD8B,EAAdA,UAUzBnB,EAFaG,CA3Cf,YAOI,IANFgB,EAMC,EANDA,QACA3M,EAKC,EALDA,MACAoJ,EAIC,EAJDA,MAIC,IAHDsG,KAAQC,EAGP,EAHOA,KAAMvO,EAGb,EAHaA,MAAOyE,EAGpB,EAHoBA,IAErB6G,EACC,EADDA,WAEQvE,EAASC,IAAMC,WAAWC,KAA1BH,KACFxK,EAAOkI,EAAI7F,GACX6K,EAAOlN,EAAKkN,KAAK1C,GACjB0E,EAAQS,YAAS3P,EAAMyD,GAQ7B,OACE,yBAAKgI,MAAOA,EAAOT,UAAU,aAC3B,kBAAC,IAAD,CAAOvH,MAAOA,EAAOyL,MAAOA,EAAOb,QARvB,WAEdU,EADe,CAAEhP,SAAUiP,EAAShP,SAEpCqP,YAASC,IAAKN,IAAU,MAMtB,0BAAMhE,UAAU,QAAQkC,GACvB8E,EAAK9G,IAAI,SAAA+G,GACR,GAAU,WAANA,GAAwB,YAANA,EAAiB,CACrC,IAAMC,EAAI,UAAMD,EAAN,YAAWjS,EAAKiS,IAC1B,OAAO,kBAAC,IAAD,CAAOjR,IAAKiR,EAAG9C,KAAK,KAAK1L,MAAM,OAAOyL,MAAOgD,IAGtD,OAAO,0BAAMlR,IAAKiR,GAAIjS,EAAKiS,SCwFnC,IAIejE,cAJS,SAAC,GACvB,MAAO,CAAE6C,QAD8B,EAAdA,UAIZ7C,CAvHf,YAAwD,IAAnCvK,EAAkC,EAAlCA,MAAO8N,EAA2B,EAA3BA,OAAQV,EAAmB,EAAnBA,QAASW,EAAU,EAAVA,OACnChH,EAASC,IAAMC,WAAWC,KAA1BH,KAD6C,EAG7BC,IAAM2B,SAAS,QAHc,mBAG9C+F,EAH8C,KAGxC9F,EAHwC,KAKrDC,oBAAU,WACRC,WAAW,WACTF,EAAQ,OACP,MACF,IAEH,IAAM+F,EAAW3H,IAAMG,QAAQ,WA0E7B,MAAO,CAAE1C,IAVG+D,OAAO1H,OAAOuH,IAAQrI,IAC/BkC,OAAO,SAAA3F,GACN,OACEuR,EAAOc,MAAM,SAAAvM,GAAC,OAAI9F,EAAK8F,GAAGC,SAAS8K,EAAQ/K,OAC3C9F,EAAKkN,KAAK1C,GAAM8H,cAAcvM,SAASyL,EAAOc,iBAGjDC,KAtEa,SAACC,EAAOC,GACtB,GAAID,EAAMjS,OAASkS,EAAMlS,OAAQ,OAAQ,EACzC,GAAIiS,EAAMjS,OAASkS,EAAMlS,OAAQ,OAAO,EAExC,GAAIiS,EAAMtN,QAAS,CACjB,IAAMA,EAAO,sBAAOkM,KAAP,CAAiB,SACxBsB,EAAWxN,EAAQ5C,QAAQkQ,EAAMtN,SACjCyN,EAAWzN,EAAQ5C,QAAQmQ,EAAMvN,SACvC,GAAIwN,EAAWC,EAAU,OAAO,EAChC,GAAID,EAAWC,EAAU,OAAQ,EAGnC,GAAIH,EAAMjN,OAAQ,CAChB,IAAMqN,EAAUzB,IAAQ7O,QAAQkQ,EAAMjN,QAChCsN,EAAU1B,IAAQ7O,QAAQmQ,EAAMlN,QACtC,GAAIqN,EAAUC,EAAS,OAAO,EAC9B,GAAID,EAAUC,EAAS,OAAQ,EAGjC,GAAc,cAAVpP,EAAuB,CACzB,GAAI+O,EAAMxK,UAAYyK,EAAMzK,QAAS,OAAQ,EAC7C,IAAKwK,EAAMxK,SAAWyK,EAAMzK,QAAS,OAAO,EAE5C,GACEwK,EAAM1O,OACJ0O,EAAM3O,MACN2O,EAAMlR,YACNkR,EAAMjR,YACNiR,EAAMhR,YACRiR,EAAM3O,OACJ2O,EAAM5O,MACN4O,EAAMnR,YACNmR,EAAMlR,YACNkR,EAAMjR,YAER,OAAQ,EAGV,GACEgR,EAAM1O,OACJ0O,EAAM3O,MACN2O,EAAMlR,YACNkR,EAAMjR,YACNiR,EAAMhR,YACRiR,EAAM3O,OACJ2O,EAAM5O,MACN4O,EAAMnR,YACNmR,EAAMlR,YACNkR,EAAMjR,YAER,OAAO,MAEJ,CACL,GAAIgR,EAAM1O,OAAS0O,EAAM3O,MAAQ4O,EAAM3O,OAAS2O,EAAM5O,MAAO,OAAQ,EACrE,GAAI2O,EAAM1O,OAAS0O,EAAM3O,MAAQ4O,EAAM3O,OAAS2O,EAAM5O,MAAO,OAAO,EAGtE,OAAI2O,EAAMnS,GAAKoS,EAAMpS,GAAW,EAC5BmS,EAAMnS,GAAKoS,EAAMpS,IAAY,EAE1B,IAaK2R,KAFS,WAAVvO,EAAqB8N,EAAOhP,MAAM,GAAI,GAAKgP,EAEpC9N,UACnB,CAACA,EAAO8N,EAAQV,EAASrG,EAAMgH,IAE5BsB,EAAUrI,IAAMsI,OAAO,MAO7B,OANAzG,oBAAU,WACJwG,EAAQE,SACVF,EAAQE,QAAQC,aAAa,IAE9B,CAACxP,EAAOoN,IAGT,yBAAK7F,UAAWmH,GACd,kBAAC,IAAD,KACG,gBAAGe,EAAH,EAAGA,OAAQC,EAAX,EAAWA,MAAX,OACC,kBAAC,IAAD,CACE7C,IAAKwC,EACLI,OAAQA,EACRC,MAAOA,EACPC,SAAU,GACVC,UAAWjB,EAASlK,IAAI5D,OACxB8N,SAAUA,GAETkB,QC7GPC,GAAS,CACb3O,WAAY,CAAC,SAAU,UAAW,UAClCW,OAAQ,CAAC,SAAU,UAAW,SAAU,QACxCiO,UAAW,CAAC,UACZxO,OAAQ,CAAC,UAAW,WAuBtB,IC/BeyO,GDoCAzF,YALS,SAAC,GAAiB,IAAfgB,EAAc,EAAdA,QAEzB,MAAO,CAAEvL,MADKC,YAASsL,KAIVhB,CAzBf,YAAgC,IAAVvK,EAAS,EAATA,MAAS,EACDgH,IAAM2B,SAAS,IADd,mBACtBoF,EADsB,KACdC,EADc,KAO7B,OAJAhH,IAAM6B,UAAU,WACdmF,EAAU,KACT,CAAChO,IAGF,oCACE,kBAAC,EAAD,CACE8N,OAAQgC,GAAO9P,GACf+N,OAAQA,EACRC,UAAWA,IAGb,kBAAC,EAAD,CAAWhO,MAAOA,EAAO8N,OAAQgC,GAAO9P,GAAQ+N,OAAQA,OErBxDd,GAAO,CAAC,QAAS,WAWRjG,IChBAiJ,GDgBAjJ,IAAMY,KATrB,YAAoC,IAApBsI,EAAmB,EAAnBA,MAAO1F,EAAY,EAAZA,SACrB,OACE,yBAAK5N,GAAG,OAAOiQ,IAAKhB,IAAKC,MACvB,kBAAC,IAAD,CAAWrC,KAAK,QAAQO,QAASkG,EAAOjD,KAAMA,GAAM1D,SAAUiB,IACnD,UAAV0F,EAAoB,kBAAC,GAAD,MAAiB,kBAAC,EAAD,SEG7BC,OAXf,WAAkB,IAAD,EACWnJ,IAAM2B,SAAS,SAD1B,mBACRuH,EADQ,KACD1F,EADC,KAEf,OACE,0BAAM5N,GAAG,SACP,kBAAC,EAAD,CAAM4N,SAAUA,IAChB,kBAAC,EAAD,CAAMA,SAAUA,IAChB,kBAAC,GAAD,CAAM0F,MAAOA,EAAO1F,SAAUA,MCTrB2F","file":"static/js/6.c653318a.chunk.js","sourcesContent":["import {\n  ADVENTURER_ABILITY,\n  ELEMENTS_MODIFIER,\n  MIGHT_DICT,\n  HALIDOM_LIST,\n  HALIDOM_VALUES,\n  STATS_KEYS,\n  dungeonInfo,\n} from 'data';\nimport { calcVal, getField, getLimit } from './index';\n\nconst WYRMPRINT_MAX_HP = 8;\nconst WYRMPRINT_MAX_STR = 20;\nconst WYRMPRINT_MAX_DEF = 20;\nconst WYRMPRINT_MAX_RES = 15;\nconst WYRMPRINT_MAX_REDUCE = 25;\n\n/**\n * @param {Object} a adventurer\n */\nconst calcAdventurerMight = a => {\n  const { ex, id, mana, rarity } = a;\n  const skillMight = MIGHT_DICT[`adventurerSkill_${mana}`];\n\n  // Euden: 100001_01\n  let setKey;\n  if (rarity === '5' || id === '100001_01') {\n    setKey = `5_${mana}`;\n  } else {\n    setKey = `rest_${mana}`;\n  }\n\n  const abilitySet = ADVENTURER_ABILITY[setKey];\n\n  const abilityMight = abilitySet.reduce((acc, cur) => {\n    if (a[cur]) return acc + a[cur];\n    return acc;\n  }, 0);\n\n  let fsKey;\n  if (mana >= 40) {\n    fsKey = '40';\n  } else if (mana >= 10) {\n    fsKey = '10';\n  }\n\n  const fsMight = MIGHT_DICT[`fs_${fsKey}`] || 0;\n\n  const exMight = MIGHT_DICT[`coAbility_${rarity}_${ex}`];\n\n  return skillMight + abilityMight + fsMight + exMight;\n};\n\n/**\n * @param {Object} w weapon\n */\nconst calcWeaponMight = w => {\n  // unbind === 4, skill LV2, else skill LV1\n  const key = w.unbind === '4' ? '4' : '0';\n  const skillMight = w.skill ? MIGHT_DICT[`itemSkill_${key}`] : 0;\n\n  return w.abilities11 + w.abilities21 + skillMight;\n};\n\n/**\n * @param {Object} w wyrmprint\n */\nconst calcWyrmprintMight = w => {\n  if (w.unbind === '4') {\n    return w.abilities13 + w.abilities23 + w.abilities33;\n  }\n\n  if (w.unbind >= '2') {\n    return w.abilities12 + w.abilities22 + w.abilities32;\n  }\n\n  return w.abilities11 + w.abilities21 + w.abilities31;\n};\n\n/**\n * @param {Object} d dragon\n */\nconst calcDragonMight = d => {\n  const bondBonus = d.bond * 10;\n\n  if (d.unbind === '4') {\n    return d.abilities12 + d.abilities22 + bondBonus + MIGHT_DICT.itemSkill_4;\n  }\n\n  return d.abilities11 + d.abilities21 + bondBonus + MIGHT_DICT.itemSkill_0;\n};\n\n/**\n * @param {string} statsKey\n * @param {Object} item\n */\nconst calcMight = (statsKey, item) => {\n  switch (statsKey) {\n    case 'adventurer':\n      return calcAdventurerMight(item);\n    case 'weapon':\n      return calcWeaponMight(item);\n    case 'wyrmprint1':\n    case 'wyrmprint2':\n      return calcWyrmprintMight(item);\n    case 'dragon':\n      return calcDragonMight(item);\n    default:\n      return 0;\n  }\n};\n\n/**\n * @param {Object} a adventurer\n * @param {number} i 0 or 1, get Hp or Atk\n */\nconst calcMCBonus = (a, i) => {\n  const key = ['Hp', 'Atk'][i];\n  const index = ['50', '45', '40', '30', '20', '10', '0'].indexOf(a.mana);\n  const statArray = [\n    a[`McFullBonus${key}5`],\n    a[`Plus${key}4`],\n    a[`Plus${key}3`],\n    a[`Plus${key}2`],\n    a[`Plus${key}1`],\n    a[`Plus${key}0`],\n    0,\n  ];\n\n  return statArray.slice(index).reduce((acc, cur) => acc + cur, 0);\n};\n\n/**\n * @param {string} statsKey\n * @param {Object} item\n * @param {boolean} sameEle\n */\nconst calcItem = (statsKey, item, sameEle = false) => {\n  if (!item) {\n    return {\n      hp: 0,\n      str: 0,\n      might: 0,\n      augHp: 0,\n      augStr: 0,\n      tHp: 0,\n      tStr: 0,\n      tMight: 0,\n    };\n  }\n\n  const { curRarity } = item;\n  let { rarity, level, augHp = 0, augStr = 0 } = item;\n\n  level = Number(level);\n  augHp = Number(augHp);\n  augStr = Number(augStr);\n\n  if (statsKey === 'adventurer') rarity = 5;\n  const field = getField(statsKey);\n  const MAX_LEVEL = getLimit(`${field}_${rarity}`);\n\n  let hp = 0;\n  let str = 0;\n  if (level === MAX_LEVEL) {\n    hp = item.MaxHp;\n    str = item.MaxAtk;\n  } else {\n    let baseHp;\n    let baseStr;\n    let stepHp;\n    let stepStr;\n\n    if (statsKey === 'adventurer') {\n      baseHp = item[`MinHp${curRarity}`];\n      baseStr = item[`MinAtk${curRarity}`];\n      stepHp = 'MinHp5';\n      stepStr = 'MinAtk5';\n    } else {\n      baseHp = item.MinHp;\n      baseStr = item.MinAtk;\n      stepHp = 'MinHp';\n      stepStr = 'MinAtk';\n    }\n\n    if (level === 1) {\n      hp = baseHp;\n      str = baseStr;\n    } else {\n      hp =\n        baseHp + ((level - 1) / (MAX_LEVEL - 1)) * (item.MaxHp - item[stepHp]);\n\n      str =\n        baseStr +\n        ((level - 1) / (MAX_LEVEL - 1)) * (item.MaxAtk - item[stepStr]);\n    }\n  }\n\n  if (statsKey === 'adventurer') {\n    hp += calcMCBonus(item, 0);\n    str += calcMCBonus(item, 1);\n  }\n\n  hp = calcVal(hp);\n  str = calcVal(str);\n\n  if (sameEle) {\n    // weapon, dragon has x1.5 bonus when matches adventurer element\n    // (hp + augHp) * 1.5 - augHp = hp * 1.5 + augHp * 0.5;\n    // augments calculated in augments section\n    hp = calcVal(hp * 1.5 + augHp * 0.5);\n    str = calcVal(str * 1.5 + augStr * 0.5);\n  }\n\n  const tHp = hp + augHp;\n  const tStr = str + augStr;\n\n  const bonusMight = calcMight(statsKey, item);\n  const might = hp + str + bonusMight;\n  const tMight = tHp + tStr + bonusMight;\n\n  return {\n    hp,\n    str,\n    might,\n    augHp,\n    augStr,\n    tHp,\n    tStr,\n    tMight,\n  };\n};\n\n/**\n * @param {string[]} halidomList\n * @param {Object} halidom\n */\nconst calcHalidomValue = (halidomList, halidom) => {\n  let hp = 0;\n  let str = 0;\n\n  for (let i = 0; i < halidomList.length; i += 1) {\n    const key = halidomList[i];\n    const { [key]: item } = halidom;\n    if (item) {\n      const values = HALIDOM_VALUES[item.type][item.level];\n      hp += values[0];\n      str += values[1];\n    }\n  }\n\n  return { hp, str };\n};\n\n/**\n * @param {Object} details\n * @param {Object} stats\n * @param {Object} stats.adventurer\n * @param {Object} stats.dragon\n * @param {Object} halidom\n */\nconst calcHalidomDetails = (details, { adventurer, dragon }, halidom) => {\n  const { element, weapon } = adventurer;\n  const aHalidomFilters = [`adventurer_${element}`, weapon];\n  const aHalidomList = HALIDOM_LIST.filter(k =>\n    aHalidomFilters.some(f => k.includes(f))\n  );\n  const aPct = calcHalidomValue(aHalidomList, halidom);\n\n  let dPct = { hp: 0, str: 0 };\n  if (dragon) {\n    const dHalidomList = HALIDOM_LIST.filter(k =>\n      k.includes(`dragon_${dragon.element}`)\n    );\n\n    dPct = calcHalidomValue(dHalidomList, halidom);\n  }\n\n  const aHp = details.adventurer.tHp * aPct.hp * 0.01;\n  const aStr = details.adventurer.tStr * aPct.str * 0.01;\n  const dHp = details.dragon.tHp * dPct.hp * 0.01;\n  const dStr = details.dragon.tStr * dPct.str * 0.01;\n\n  const hp = calcVal(aHp) + calcVal(dHp);\n  const str = calcVal(aStr) + calcVal(dStr);\n  const might = hp + str;\n\n  return {\n    hp,\n    str,\n    might,\n  };\n};\n\nexport const calcDetails = (stats, halidom) => {\n  if (!stats.adventurer) return null;\n  const details = {};\n\n  const { adventurer, wyrmprint1, wyrmprint2, dragon } = stats;\n\n  let baseHp = 0;\n  let baseStr = 0;\n  let baseMight = 0;\n  let augHp = 0;\n  let augStr = 0;\n  // calc adventurer, weapon, wyrmprint, dragon\n  const { element } = adventurer;\n  for (let i = 0; i < STATS_KEYS.length; i += 1) {\n    const key = STATS_KEYS[i];\n    const item = stats[key];\n    const sameEle =\n      (key === 'weapon' || key === 'dragon') &&\n      item &&\n      element === item.element;\n\n    const value = calcItem(key, item, sameEle);\n    baseHp += value.tHp;\n    baseStr += value.tStr;\n    baseMight += value.tMight;\n    augHp += value.augHp;\n    augStr += value.augStr;\n\n    details[key] = value;\n  }\n\n  details.augments = {\n    hp: augHp,\n    str: augStr,\n    might: augHp + augStr,\n  };\n\n  // calc Halidom\n  const halidomDetails = calcHalidomDetails(details, stats, halidom);\n  details.halidom = halidomDetails;\n\n  // calc ability\n  let hpPct = 0;\n  let strPct = 0;\n  if (dragon) {\n    if (element === dragon.element) {\n      const n = dragon.unbind === '4' ? '2' : '1';\n      hpPct = dragon[`incHP${n}`];\n      strPct = dragon[`incSTR${n}`];\n    }\n  }\n  // Version 1.7.1, details calc item STR ability, shows in ability section\n  // Version 1.8.0, adds incHP wyrmprint\n\n  // adventurer's STR ability\n\n  if (adventurer.incSTR2 && adventurer.mana >= adventurer.STRLV2) {\n    strPct += adventurer.incSTR2;\n  } else if (adventurer.incSTR1 && adventurer.mana >= adventurer.STRLV1) {\n    strPct += adventurer.incSTR1;\n  }\n\n  // weapon's STR ability\n  if (\n    stats.weapon &&\n    stats.weapon.incSTR &&\n    element.includes(stats.weapon.reqEle)\n  ) {\n    strPct += stats.weapon.incSTR;\n  }\n\n  // wyrmprint's ability\n  // TODO: GAME BUG\n  // when wear two MUB wyrmprints will exceed the WYRMPRINT_MAX_STR limit\n  let wHpPct = 0;\n  let wStrPct = 0;\n  let w1MUB = false;\n  let w2MUB = false;\n\n  if (wyrmprint1) {\n    const { unbind } = wyrmprint1;\n    let stage = 1;\n    if (unbind === '4') {\n      stage = 3;\n      w1MUB = true;\n    } else if (unbind >= '2') {\n      stage = 2;\n    }\n\n    wHpPct += wyrmprint1[`incHP${stage}`] || 0;\n    wStrPct += wyrmprint1[`incSTR${stage}`] || 0;\n  }\n\n  if (wyrmprint2) {\n    const { unbind } = wyrmprint2;\n    let stage = 1;\n    if (unbind === '4') {\n      stage = 3;\n      w2MUB = true;\n    } else if (unbind >= '2') {\n      stage = 2;\n    }\n\n    wHpPct += wyrmprint2[`incHP${stage}`] || 0;\n    wStrPct += wyrmprint2[`incSTR${stage}`] || 0;\n  }\n\n  if (wHpPct > WYRMPRINT_MAX_HP) {\n    wHpPct = WYRMPRINT_MAX_HP;\n  }\n\n  if (wStrPct > WYRMPRINT_MAX_STR && !(w1MUB && w2MUB)) {\n    wStrPct = WYRMPRINT_MAX_STR;\n  }\n\n  hpPct += wHpPct;\n  strPct += wStrPct;\n\n  let totalHp = baseHp + halidomDetails.hp;\n  let totalStr = baseStr + halidomDetails.str;\n  const totalMight = baseMight + halidomDetails.might;\n\n  const abilityHp = totalHp * hpPct * 0.01;\n  const abilityStr = totalStr * strPct * 0.01;\n  details.ability = {\n    hp: calcVal(abilityHp),\n    str: calcVal(abilityStr),\n    might: 0,\n  };\n\n  totalHp += abilityHp;\n  totalStr += abilityStr;\n\n  details.total = {\n    hp: totalHp,\n    str: totalStr,\n    might: totalMight,\n  };\n\n  return details;\n};\n\n/**\n *\n * @param {Object} stats\n * @param {Object} state\n */\nexport const calcDamage = (\n  { adventurer: a, weapon: w, wyrmprint1: w1, wyrmprint2: w2, dragon },\n  { dungeon, str, multiplier, def, exDef }\n) => {\n  const arr = [];\n  let totalDef = 1 * def + 1 * exDef;\n  if (a.incDef2 && a.mana >= a.defLV2) {\n    totalDef += a.incDef2;\n    arr.push(`adventurer,def,${a.incDef2}`);\n  } else if (a.incDef1 && a.mana >= a.defLv1) {\n    totalDef += a.incDef1;\n    arr.push(`adventurer,def,${a.incDef1}`);\n  }\n\n  // weapon\n  if (w && w.incDef && a.element.includes(w.reqEle)) {\n    totalDef += w.incDef;\n    arr.push(`weapon,def,${w.incDef}`);\n  }\n\n  // wyrmprint\n  let wHp = 0;\n  let wDef = 0;\n  let wRes = 0;\n  let wReduce = 0;\n  const dungeonEle = dungeonInfo[dungeon].element;\n  if (w1) {\n    let stage = 1;\n    if (w1.unbind === '4') {\n      stage = 3;\n    } else if (w1.unbind >= '2') {\n      stage = 2;\n    }\n\n    if (w1.incHP1) {\n      const temp = w1[`incHP${stage}`];\n      wHp += temp;\n      arr.push(`wyrmprint1,hp,${temp}`);\n    }\n\n    if (w1.incDef1) {\n      const temp = w1[`incDef${stage}`];\n      wDef += temp;\n      arr.push(`wyrmprint1,def,${temp}`);\n    }\n\n    if (w1.dungeon === dungeon) {\n      const temp = w1[`reduce${stage}`];\n      wReduce += temp;\n      arr.push(`wyrmprint1,reduce,${temp}`);\n    }\n\n    if (w1.resEle === dungeonEle) {\n      const temp = w1[`incRes${stage}`];\n      wRes += temp;\n      arr.push(`wyrmprint1,res,${temp}`);\n    }\n  }\n\n  if (w2) {\n    let stage = 1;\n    if (w2.unbind === '4') {\n      stage = 3;\n    } else if (w2.unbind >= '2') {\n      stage = 2;\n    }\n\n    if (w2.incHP1) {\n      const temp = w1[`incHP${stage}`];\n      wHp += temp;\n\n      if (wHp > WYRMPRINT_MAX_HP) {\n        arr.push(`wyrmprint2,hp,${temp} -> ${WYRMPRINT_MAX_HP - wHp + temp}`);\n      } else {\n        arr.push(`wyrmprint2,hp,${temp}`);\n      }\n    }\n\n    if (w2.incDef1) {\n      const temp = w2[`incDef${stage}`];\n      wDef += temp;\n\n      if (wDef > WYRMPRINT_MAX_DEF) {\n        arr.push(\n          `wyrmprint2,def,${temp} -> ${WYRMPRINT_MAX_DEF - wDef + temp}`\n        );\n        wDef = WYRMPRINT_MAX_DEF;\n      } else {\n        arr.push(`wyrmprint2,def,${temp}`);\n      }\n    }\n\n    if (w2.dungeon === dungeon) {\n      const temp = w2[`reduce${stage}`];\n      wReduce += temp;\n\n      if (wReduce > WYRMPRINT_MAX_REDUCE) {\n        arr.push(\n          `wyrmprint2,reduce,${temp} -> ${WYRMPRINT_MAX_REDUCE -\n            wReduce +\n            temp}`\n        );\n      } else {\n        arr.push(`wyrmprint2,reduce,${temp}`);\n      }\n    }\n\n    if (w2.resEle === dungeonEle) {\n      const temp = w2[`incRes${stage}`];\n      wRes += temp;\n\n      if (wRes > WYRMPRINT_MAX_RES) {\n        arr.push(\n          `wyrmprint2,res,${temp} -> ${WYRMPRINT_MAX_RES - wRes + temp}`\n        );\n      } else {\n        arr.push(`wyrmprint2,res,${temp}`);\n      }\n    }\n  }\n\n  let totalRes = wRes;\n  const { resEle } = dragon || {};\n\n  if (resEle === dungeonEle) {\n    const { incRes } = dragon;\n    totalRes += incRes;\n    arr.push(`dragon,res,${incRes}`);\n  }\n\n  let eleModifier = 1;\n  if (a.element === ELEMENTS_MODIFIER[dungeonEle].da) {\n    eleModifier = 0.5;\n  } else if (a.element === ELEMENTS_MODIFIER[dungeonEle].ad) {\n    eleModifier = 1.5;\n  }\n\n  const base =\n    ((5 / 3) *\n      str *\n      multiplier *\n      eleModifier *\n      (1 - wReduce * 0.01) *\n      (1 - totalRes * 0.01)) /\n    (a.DefCoef * (1 + totalDef * 0.01));\n\n  const parseDamage = val => {\n    const tolerance = 0.00001;\n    const round = Math.round(val);\n    if (Math.abs(val - round) < tolerance) {\n      return round;\n    }\n\n    return Math.floor(val);\n  };\n\n  const min = parseDamage(base * 0.95);\n  const max = parseDamage(base * 1.05);\n\n  return { min, max, arr };\n};\n","import React, { Fragment, useMemo } from 'react';\nimport clsx from 'clsx';\nimport { Context } from 'components';\nimport { calcVal, translate } from 'utils';\n\nconst ROWS = [\n  'adventurer',\n  'weapon',\n  'wyrmprint1',\n  'wyrmprint2',\n  'dragon',\n  'augments',\n  'ability',\n  'halidom',\n];\n\nconst defaultProps = {\n  collapse: false,\n};\n\nfunction StatsTable({ collapse, details }) {\n  const { lang } = React.useContext(Context);\n\n  const { body, footer } = useMemo(\n    () => ({\n      body: clsx('body', { collapse }),\n      footer: clsx('footer', { collapse }),\n    }),\n    [collapse]\n  );\n\n  if (!details) return null;\n\n  return (\n    <div id=\"stats-table\">\n      <div className=\"header\">\n        <span />\n        <span>HP</span>\n        <span>{translate('str', lang)}</span>\n        <span>{translate('might', lang)}</span>\n      </div>\n\n      <div className={body}>\n        {ROWS.map(row => {\n          const { hp, str, might } = details[row];\n          return (\n            <Fragment key={row}>\n              <span>{translate(row, lang)}</span>\n              <span>{hp}</span>\n              <span>{str}</span>\n              <span>{might}</span>\n            </Fragment>\n          );\n        })}\n      </div>\n\n      <div className={footer}>\n        <span>{translate('total', lang)}</span>\n        <span>{calcVal(details.total.hp)}</span>\n        <span>{calcVal(details.total.str)}</span>\n        <span>{details.total.might}</span>\n      </div>\n    </div>\n  );\n}\n\nStatsTable.defaultProps = defaultProps;\n\nexport default React.memo(StatsTable);\n","import React from 'react';\nimport { Context } from 'components';\nimport { translate } from 'utils';\n\nconst defaultProps = {\n  arr: [],\n  hp: 0,\n  max: 0,\n  min: 0,\n};\n\nfunction DamageBar({ damageState: { arr, hp, max, min } }) {\n  const { lang } = React.useContext(Context);\n\n  const pct = React.useMemo(() => {\n    if (hp > max) return 100;\n\n    if (hp <= min) return 0;\n\n    return (100 * (hp - 1 - min)) / (max - min);\n  }, [hp, min, max]);\n\n  return (\n    <>\n      <div\n        id=\"damage-bar\"\n        style={{\n          background: `linear-gradient(120deg, green, #4ba946 ${pct}%, #deb887 ${pct +\n            5}%, #be3223 , #800000)`,\n        }}\n      >\n        {`${pct.toFixed(2)}%`}\n      </div>\n\n      <table>\n        <tbody>\n          <tr style={{ fontWeight: 'bold' }}>\n            <td>HP </td>\n            <td>MIN</td>\n            <td>MAX</td>\n          </tr>\n\n          <tr>\n            <td>{hp}</td>\n            <td>{min}</td>\n            <td>{max}</td>\n          </tr>\n\n          {arr.map(t => {\n            const content = t.split(',');\n            return (\n              <tr key={`${content[0]}_${content[1]}`}>\n                <td>{translate(content[0], lang)}</td>\n                <td>{translate(content[1], lang)}</td>\n                <td>{translate(content[2], lang)}</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </>\n  );\n}\n\nDamageBar.defaultProps = defaultProps;\n\nexport default React.memo(DamageBar);\n","/* eslint-disable no-unused-vars */\nimport React, { useEffect, useState } from 'react';\nimport clsx from 'clsx';\nimport { Input, Select, Checkbox } from 'components';\nimport { dungeonInfo, COABILITY_DICT } from 'data';\nimport { calcDamage } from 'utils/calcStats';\nimport { calcVal } from 'utils';\nimport DamageBar from './DamageBar';\n\nconst dungeonArr = Object.keys(dungeonInfo);\nconst settingsArr = ['exHp', 'exDef', 'hp', 'def'];\n\nfunction Dungeon({ stats, totalHp }) {\n  const [hide, setHide] = useState('hide');\n  useEffect(() => {\n    setTimeout(() => {\n      setHide(null);\n    }, 250);\n  }, []);\n\n  const [dungeon, setDungeon] = useState('hzd');\n  const [collapse, setCollapse] = useState(false);\n  const [str, setStr] = useState('');\n  const [multiplier, setMultiplier] = useState('');\n\n  useEffect(() => {\n    const info = dungeonInfo[dungeon];\n    setStr(info.str);\n    setMultiplier(info.multiplier);\n  }, [dungeon]);\n\n  const handleDungeon = ({ target: { value } }) => {\n    setDungeon(value);\n  };\n\n  const handleStr = e => {\n    setStr(e.target.value);\n  };\n\n  const handleMultiplier = e => {\n    setMultiplier(e.target.value);\n  };\n\n  const [state, setState] = useState({\n    exHp: '',\n    exDef: '',\n    hp: '',\n    def: '',\n  });\n\n  const onChange = ({ target: { name, value } }) => {\n    setState(prev => ({ ...prev, [name]: value }));\n  };\n\n  useEffect(() => {\n    if (!stats.adventurer) return;\n\n    const { ex, rarity, weapon } = stats.adventurer;\n\n    if (weapon === 'Axe' || weapon === 'Lance') {\n      let key;\n      if (weapon === 'Axe') {\n        key = 'exDef';\n      } else if (weapon === 'Lance') {\n        key = 'exHp';\n      }\n\n      const temp = COABILITY_DICT[`${weapon}_${rarity}`][ex];\n      if (temp === state[key]) return;\n\n      setState(prev => ({\n        ...prev,\n        [key]: temp,\n      }));\n    }\n    // eslint-disable-next-line\n  }, [stats.adventurer]);\n\n  const damageState = React.useMemo(() => {\n    const { exHp, exDef, def } = state;\n    const damageDetails = calcDamage(stats, {\n      dungeon,\n      str,\n      multiplier,\n      def,\n      exDef,\n    });\n\n    const hp = calcVal(totalHp * (1 + 0.01 * state.hp) * (1 + 0.01 * exHp));\n\n    return { hp, ...damageDetails };\n  }, [stats, totalHp, dungeon, str, multiplier, state]);\n\n  const cn = clsx('col-2', 'animated-collapse', { collapse: !collapse });\n\n  return (\n    <>\n      <div className=\"col-2\">\n        <Select\n          options={dungeonArr}\n          label=\"dungeon\"\n          value={dungeon}\n          onChange={handleDungeon}\n        />\n\n        <Checkbox checked={collapse} label=\"setting\" onChange={setCollapse} />\n      </div>\n\n      <div className={cn}>\n        <Input label=\"str\" value={str} onChange={handleStr} />\n\n        <Input\n          label=\"multiplier\"\n          value={multiplier}\n          type=\"float\"\n          onChange={handleMultiplier}\n        />\n      </div>\n\n      <div className=\"col-2\">\n        {settingsArr.map(el => (\n          <Input\n            key={el}\n            adornment=\"%\"\n            label={el}\n            value={state[el]}\n            onChange={onChange}\n          />\n        ))}\n      </div>\n\n      <DamageBar damageState={damageState} />\n    </>\n  );\n}\n\nexport default React.memo(Dungeon);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from '@material-ui/core';\nimport { Checkbox } from 'components';\nimport { calcDetails } from 'utils/calcStats';\nimport { resetStats } from 'actions';\nimport StatsTable from './StatsTable';\nimport Dungeon from './Dungeon';\n\n// const SECTIONS = ['build', 'team'];\n\n// eslint-disable-next-line no-shadow\nfunction Col1({ stats, halidom, setPanel, resetStats }) {\n  const [collapse, setCollapse] = React.useState(true);\n\n  const handleReset = () => {\n    setPanel('stats');\n    resetStats();\n  };\n\n  const details = React.useMemo(() => calcDetails(stats, halidom), [\n    stats,\n    halidom,\n  ]);\n\n  return (\n    <div id=\"col1\">\n      <div className=\"col-2\">\n        <Checkbox\n          checked={collapse}\n          disabled={!details}\n          label=\"CHECK\"\n          onChange={setCollapse}\n        />\n        <Button variant=\"outlined\" onClick={handleReset}>\n          RESET\n        </Button>\n      </div>\n      <StatsTable details={details} collapse={collapse} />\n      {stats.adventurer && collapse && (\n        <Dungeon stats={stats} totalHp={details.total.hp} />\n      )}\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ stats, halidom }) => {\n  return { stats, halidom };\n};\n\nconst actionCreators = {\n  resetStats,\n};\n\nexport default connect(\n  mapStateToProps,\n  actionCreators\n)(Col1);\n","import Col1 from './Col1';\n\nexport default Col1;\n","import React from 'react';\nimport { Select } from 'components';\n\nconst SELECT_OPTIONS = {\n  mana_3: ['30', '20', '10', '0'],\n  mana_4: ['40', '30', '20', '10', '0'],\n  mana_5: ['50', '45', '40', '30', '20', '10', '0'],\n  curRarity_3: ['5', '4', '3'],\n  curRarity_4: ['5', '4'],\n  curRarity_5: ['5'],\n  rest: ['4', '3', '2', '1', '0'],\n};\n\nfunction SelectItem({ label, value, rarity, disabled, onChange }) {\n  const options = React.useMemo(() => {\n    if (label === 'curRarity' || label === 'mana') {\n      return SELECT_OPTIONS[`${label}_${rarity}`];\n    }\n\n    if (label === 'ex' || label === 'unbind') {\n      return SELECT_OPTIONS.rest;\n    }\n\n    return [];\n  }, [label, rarity]);\n\n  return (\n    <Select\n      label={label}\n      value={value}\n      options={options}\n      disabled={disabled}\n      onChange={onChange}\n    />\n  );\n}\n\nexport default React.memo(SelectItem);\n","/* eslint-disable no-shadow */\nimport React from 'react';\nimport clsx from 'clsx';\nimport { connect } from 'react-redux';\nimport { selectFocus, selectItem } from 'actions';\nimport { refs, getField, scrollTo, translate } from 'utils';\nimport { Image, Context } from 'components';\n\nfunction StatsAvatar({\n  image,\n  name,\n  scale,\n  statsKey,\n  setPanel,\n  selectFocus,\n  selectItem,\n}) {\n  const { lang } = React.useContext(Context);\n  const field = getField(statsKey);\n\n  const label = name ? name[lang] : translate(statsKey, lang);\n\n  const cn = clsx('lg', { scale });\n\n  const onClick = () => {\n    if (!scale) {\n      selectItem(statsKey);\n    }\n\n    setPanel('stats');\n    selectFocus(statsKey);\n    scrollTo(refs.col3);\n  };\n\n  return (\n    <div>\n      <Image\n        field={field}\n        image={image}\n        size={cn}\n        tabIndex=\"-1\"\n        onClick={onClick}\n      />\n      <div>{label}</div>\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ focused, stats }, { statsKey }) => {\n  return { scale: focused === statsKey && !stats[statsKey] };\n};\n\nconst actionCreators = {\n  selectFocus,\n  selectItem,\n};\n\nexport default connect(\n  mapStateToProps,\n  actionCreators\n)(StatsAvatar);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { updateItem } from 'actions';\nimport { getImage, getField, getLimit, refs } from 'utils';\nimport { Input } from 'components';\nimport SelectItem from './SelectItem';\nimport StatsAvatar from './StatsAvatar';\n\n// eslint-disable-next-line no-shadow\nfunction StatsField({ statsKey, item, setPanel, updateItem }) {\n  const {\n    bond,\n    curRarity,\n    ex,\n    level,\n    mana,\n    name: nameProps,\n    rarity,\n    unbind,\n    augHp = '',\n    augStr = '',\n  } = item || {};\n\n  const image = getImage(item, statsKey);\n\n  const [state, setState] = React.useState({\n    bond,\n    level,\n    augHp,\n    augStr,\n  });\n\n  const getUpdates = (key, value) => {\n    if (state[key] && value === state[key]) return null;\n    if (!state[key] && value === item[key]) return null;\n\n    let updates = { [key]: value };\n    let limit;\n    switch (key) {\n      case 'augHp':\n      case 'augStr': {\n        limit = getLimit('augments');\n        updates[key] = value > limit ? limit : value;\n        break;\n      }\n      case 'level': {\n        const r = statsKey === 'adventurer' ? curRarity : rarity;\n        limit = getLimit(`adventurer_${r}`, unbind);\n        updates.level = value > limit ? limit : value;\n        break;\n      }\n      case 'curRarity':\n        updates = {\n          ...updates,\n          level: getLimit(`adventurer_${value}`),\n          mana: getLimit(`mana${value}`),\n          ex: value === '5' ? '4' : '0',\n        };\n        break;\n      case 'mana':\n        updates.ex = value === '50' ? '4' : '0';\n        break;\n      case 'ex':\n        updates.mana = '45';\n        break;\n      case 'unbind': {\n        const field = getField(statsKey);\n        updates.level = getLimit(`${field}_${rarity}`, value);\n        break;\n      }\n      case 'bond': {\n        limit = getLimit('bond');\n        updates.bond = value > limit ? limit : value;\n        break;\n      }\n      default:\n        break;\n    }\n\n    return updates;\n  };\n\n  const onChange = ({ target: { name, value } }) => {\n    const updates = getUpdates(name, value);\n    if (updates === null) return;\n\n    const params = { statsKey, updates };\n    if (Object.prototype.hasOwnProperty.call(state, name)) {\n      let { [`${name}Id`]: timerId } = state;\n      clearTimeout(timerId);\n      timerId = setTimeout(() => {\n        // if level and bond is '', set min value 1.\n        if ((name === 'level' || name === 'bond') && updates[name] === '') {\n          updates[name] = 1;\n          setState({ ...state, [name]: 1 });\n        }\n\n        updateItem(params);\n      }, 1000);\n\n      setState({\n        ...state,\n        [`${name}Id`]: timerId,\n        [name]: updates[name],\n      });\n    } else {\n      if (updates.level) {\n        setState({ ...state, level: updates.level });\n      }\n\n      updateItem(params);\n    }\n  };\n\n  return (\n    <div className=\"stats-field\" ref={refs[statsKey]}>\n      <StatsAvatar\n        name={nameProps}\n        statsKey={statsKey}\n        image={image}\n        setPanel={setPanel}\n      />\n      {item &&\n        (statsKey === 'adventurer' ? (\n          <div>\n            <SelectItem\n              label=\"mana\"\n              value={mana}\n              rarity={curRarity}\n              onChange={onChange}\n            />\n            <SelectItem label=\"ex\" value={ex} onChange={onChange} />\n            <Input label=\"augHp\" value={state.augHp} onChange={onChange} />\n            <Input label=\"augStr\" value={state.augStr} onChange={onChange} />\n            <Input label=\"level\" value={state.level} onChange={onChange} />\n            <SelectItem\n              label=\"curRarity\"\n              value={curRarity}\n              rarity={rarity}\n              onChange={onChange}\n            />\n          </div>\n        ) : (\n          <div>\n            <Input label=\"level\" value={state.level} onChange={onChange} />\n            <SelectItem label=\"unbind\" value={unbind} onChange={onChange} />\n            <Input label=\"augHp\" value={state.augHp} onChange={onChange} />\n            <Input label=\"augStr\" value={state.augStr} onChange={onChange} />\n            {statsKey === 'dragon' && (\n              <Input label=\"bond\" value={state.bond} onChange={onChange} />\n            )}\n          </div>\n        ))}\n    </div>\n  );\n}\n\nconst actionCreators = {\n  updateItem,\n};\n\nexport default connect(\n  null,\n  actionCreators\n)(StatsField);\n","import StatsField from './StatsField';\n\nexport default StatsField;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { STATS_KEYS } from 'data';\nimport StatsField from './StatsField';\n\nfunction Col2({ setPanel, stats }) {\n  const [prefix, setId] = React.useState('adventurer');\n\n  React.useEffect(() => {\n    const { id = 'adventurer' } = stats.adventurer || {};\n    setId(id);\n  }, [stats.adventurer]);\n\n  return (\n    <div id=\"col2\">\n      {STATS_KEYS.map(k => {\n        const item = stats[k];\n        const { id = k } = item || {};\n\n        return (\n          <StatsField\n            key={`${prefix}_${id}`}\n            statsKey={k}\n            item={item}\n            setPanel={setPanel}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ stats }) => {\n  return { stats };\n};\n\nexport default connect(mapStateToProps)(Col2);\n","import Col2 from './Col2';\n\nexport default Col2;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { HalidomItem, IconBtns } from 'components';\nimport { HALIDOM_LIST } from 'data';\nimport { loadHalidom } from 'actions';\nimport { saveState, removeState } from 'utils';\n\nconst btns = ['del', 'refresh', 'save'];\n\n// eslint-disable-next-line no-shadow\nfunction PanelHalidom({ element, weapon, dragonEle, halidom, loadHalidom }) {\n  const onClick = e => {\n    switch (e.currentTarget.name) {\n      case 'del': {\n        removeState('halidom');\n        break;\n      }\n      case 'refresh': {\n        loadHalidom();\n        break;\n      }\n      case 'save': {\n        saveState('halidom', halidom);\n        break;\n      }\n      default:\n        break;\n    }\n  };\n\n  if (!element) return null;\n\n  let filters;\n\n  if (element === dragonEle) {\n    filters = [element, weapon];\n  } else if (!dragonEle) {\n    filters = [`adventurer_${element}`, weapon];\n  } else {\n    filters = [`adventurer_${element}`, weapon, `dragon_${dragonEle}`];\n  }\n\n  const halidomList = HALIDOM_LIST.filter(halidomKey =>\n    filters.some(f => halidomKey.includes(f))\n  );\n\n  return (\n    <>\n      <IconBtns btns={btns} onClick={onClick} />\n      <div>\n        {halidomList.map(k => (\n          <HalidomItem key={k} itemKey={k} />\n        ))}\n      </div>\n    </>\n  );\n}\n\nconst mapStateToProps = ({ stats: { adventurer, dragon }, halidom }) => {\n  const { element, weapon } = adventurer || {};\n  const { element: dragonEle } = dragon || {};\n  return { element, weapon, dragonEle, halidom };\n};\n\nconst actionCreators = {\n  loadHalidom,\n};\n\nexport default connect(\n  mapStateToProps,\n  actionCreators\n)(PanelHalidom);\n","/* eslint-disable no-shadow */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Button, TextField } from '@material-ui/core';\nimport { ELEMENTS, WEAPONS } from 'data';\nimport { resetFilters, selectFilter } from 'actions';\nimport { translate } from 'utils';\nimport { Context, Select } from 'components';\n\nconst options = {\n  weapon: ['', ...WEAPONS],\n  element: ['', ...ELEMENTS],\n  rarity: ['', '5', '4', '3'],\n  type: ['', 'Core', 'Void', 'Limited'],\n};\n\nfunction FilterStats({\n  fields,\n  filters,\n  search,\n  setSearch,\n  resetFilters,\n  selectFilter,\n}) {\n  const { lang } = React.useContext(Context);\n\n  const onChange = React.useCallback(\n    e => {\n      selectFilter(e.target);\n    },\n    [selectFilter]\n  );\n\n  const handleSearch = e => {\n    setSearch(e.target.value);\n  };\n\n  const onClick = () => {\n    setSearch('');\n    resetFilters();\n  };\n\n  return (\n    <div id=\"filter-stats\">\n      {fields.map(f => (\n        <Select\n          key={f}\n          label={f}\n          value={filters[f]}\n          options={options[f]}\n          onChange={onChange}\n        />\n      ))}\n\n      <TextField\n        variant=\"filled\"\n        value={search}\n        label={translate('search', lang)}\n        InputProps={{ spellCheck: false }}\n        onChange={handleSearch}\n      />\n\n      <Button color=\"secondary\" variant=\"contained\" onClick={onClick}>\n        RESET\n      </Button>\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ filters }) => {\n  return { filters };\n};\n\nconst actionCreators = {\n  selectFilter,\n  resetFilters,\n};\n\nexport default connect(\n  mapStateToProps,\n  actionCreators\n)(FilterStats);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { selectItem } from 'actions';\nimport { getImage, refs, scrollTo } from 'utils';\nimport { Image, Context } from 'components';\n\nfunction ListItem({\n  focused,\n  index,\n  style,\n  data: { cols, field, arr },\n  // eslint-disable-next-line no-shadow\n  selectItem,\n}) {\n  const { lang } = React.useContext(Context);\n  const item = arr[index];\n  const name = item.name[lang];\n  const image = getImage(item, field);\n\n  const onClick = () => {\n    const params = { statsKey: focused, item };\n    selectItem(params);\n    scrollTo(refs[focused], true);\n  };\n\n  return (\n    <div style={style} className=\"item-list\">\n      <Image field={field} image={image} onClick={onClick} />\n      <span className=\"name\">{name}</span>\n      {cols.map(c => {\n        if (c === 'weapon' || c === 'element') {\n          const icon = `${c}_${item[c]}`;\n          return <Image key={c} size=\"sm\" field=\"icon\" image={icon} />;\n        }\n\n        return <span key={c}>{item[c]}</span>;\n      })}\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ focused }) => {\n  return { focused };\n};\n\nconst actionCreators = {\n  selectItem,\n};\n\nexport default connect(\n  mapStateToProps,\n  actionCreators\n)(ListItem);\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { FixedSizeList } from 'react-window';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport content, { ELEMENTS, WEAPONS } from 'data';\nimport { Context } from 'components';\nimport ListItem from './ListItem';\n\nfunction StatsList({ field, fields, filters, search }) {\n  const { lang } = React.useContext(Context);\n\n  const [hide, setHide] = React.useState('hide');\n\n  useEffect(() => {\n    setTimeout(() => {\n      setHide(null);\n    }, 250);\n  }, []);\n\n  const itemData = React.useMemo(() => {\n    const compare = (item1, item2) => {\n      if (item1.rarity > item2.rarity) return -1;\n      if (item1.rarity < item2.rarity) return 1;\n\n      if (item1.element) {\n        const element = [...ELEMENTS, 'None'];\n        const element1 = element.indexOf(item1.element);\n        const element2 = element.indexOf(item2.element);\n        if (element1 > element2) return 1;\n        if (element1 < element2) return -1;\n      }\n\n      if (item1.weapon) {\n        const weapon1 = WEAPONS.indexOf(item1.weapon);\n        const weapon2 = WEAPONS.indexOf(item2.weapon);\n        if (weapon1 > weapon2) return 1;\n        if (weapon1 < weapon2) return -1;\n      }\n\n      if (field === 'wyrmprint') {\n        if (item1.dungeon && !item2.dungeon) return -1;\n        if (!item1.dungeon && item2.dungeon) return 1;\n\n        if (\n          item1.MaxAtk +\n            item1.MaxHp +\n            item1.abilities13 +\n            item1.abilities23 +\n            item1.abilities33 >\n          item2.MaxAtk +\n            item2.MaxHp +\n            item2.abilities13 +\n            item2.abilities23 +\n            item2.abilities33\n        ) {\n          return -1;\n        }\n\n        if (\n          item1.MaxAtk +\n            item1.MaxHp +\n            item1.abilities13 +\n            item1.abilities23 +\n            item1.abilities33 <\n          item2.MaxAtk +\n            item2.MaxHp +\n            item2.abilities13 +\n            item2.abilities23 +\n            item2.abilities33\n        ) {\n          return 1;\n        }\n      } else {\n        if (item1.MaxAtk + item1.MaxHp > item2.MaxAtk + item2.MaxHp) return -1;\n        if (item1.MaxAtk + item1.MaxHp < item2.MaxAtk + item2.MaxHp) return 1;\n      }\n\n      if (item1.id > item2.id) return 1;\n      if (item1.id < item2.id) return -1;\n\n      return 0;\n    };\n\n    const arr = Object.values(content[field])\n      .filter(item => {\n        return (\n          fields.every(f => item[f].includes(filters[f])) &&\n          item.name[lang].toUpperCase().includes(search.toUpperCase())\n        );\n      })\n      .sort(compare);\n    const cols = field === 'weapon' ? fields.slice(0, -1) : fields;\n\n    return { arr, cols, field };\n  }, [field, fields, filters, lang, search]);\n\n  const listRef = React.useRef(null);\n  useEffect(() => {\n    if (listRef.current) {\n      listRef.current.scrollToItem(0);\n    }\n  }, [field, filters]);\n\n  return (\n    <div className={hide}>\n      <AutoSizer>\n        {({ height, width }) => (\n          <FixedSizeList\n            ref={listRef}\n            height={height}\n            width={width}\n            itemSize={80}\n            itemCount={itemData.arr.length}\n            itemData={itemData}\n          >\n            {ListItem}\n          </FixedSizeList>\n        )}\n      </AutoSizer>\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ filters }) => {\n  return { filters };\n};\n\nexport default connect(mapStateToProps)(StatsList);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getField } from 'utils';\nimport FilterStats from './FilterStats';\nimport StatsList from './StatsList';\n\nconst FIELDS = {\n  adventurer: ['weapon', 'element', 'rarity'],\n  weapon: ['weapon', 'element', 'rarity', 'type'],\n  wyrmprint: ['rarity'],\n  dragon: ['element', 'rarity'],\n};\n\nfunction PanelStats({ field }) {\n  const [search, setSearch] = React.useState('');\n\n  React.useEffect(() => {\n    setSearch('');\n  }, [field]);\n\n  return (\n    <>\n      <FilterStats\n        fields={FIELDS[field]}\n        search={search}\n        setSearch={setSearch}\n      />\n\n      <StatsList field={field} fields={FIELDS[field]} search={search} />\n    </>\n  );\n}\n\nconst mapStateToProps = ({ focused }) => {\n  const field = getField(focused);\n  return { field };\n};\n\nexport default connect(mapStateToProps)(PanelStats);\n","import PanelStats from './PanelStats';\n\nexport default PanelStats;\n","/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport { refs } from 'utils';\nimport { RadioBtns } from 'components';\nimport PanelHalidom from './PanelHalidom';\nimport PanelStats from './PanelStats';\n\nconst btns = ['stats', 'halidom'];\n\nfunction Col3({ panel, setPanel }) {\n  return (\n    <div id=\"col3\" ref={refs.col3}>\n      <RadioBtns name=\"panel\" checked={panel} btns={btns} onChange={setPanel} />\n      {panel === 'stats' ? <PanelStats /> : <PanelHalidom />}\n    </div>\n  );\n}\n\nexport default React.memo(Col3);\n","import Col3 from './Col3';\n\nexport default Col3;\n","import React from 'react';\nimport Col1 from './Col1';\nimport Col2 from './Col2';\nimport Col3 from './Col3';\n\nfunction Stats() {\n  const [panel, setPanel] = React.useState('stats');\n  return (\n    <main id=\"stats\">\n      <Col1 setPanel={setPanel} />\n      <Col2 setPanel={setPanel} />\n      <Col3 panel={panel} setPanel={setPanel} />\n    </main>\n  );\n}\n\nexport default Stats;\n","import Stats from './Stats';\n\nexport default Stats;\n"],"sourceRoot":""}